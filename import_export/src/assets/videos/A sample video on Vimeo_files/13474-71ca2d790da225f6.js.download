"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13474],{467546:function(e,t,r){r.d(t,{MM:function(){return w},al:function(){return P},Wh:function(){return x}});var n=r(846211),i=r(706138),o=r(750042),a=r(727926);let s=["baseUrl","select","variables","query"],c=["baseUrl","select","variables"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function p(e){let{baseUrl:t,select:r,variables:i,query:o}=e,c=(0,n.Z)(e,s),l=await fetch(`${t}/me/payment_methods?${(0,a.Ov)(o)}&fields=${r.map(a.Rb).join(",")}`,u(u({},c),{},{method:"GET",body:JSON.stringify((0,a.mH)(i))}));if(!l.ok)throw new a.F7("A network error occurred",l.status,l);if(204===l.status)return null;if(!l.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let p=await l.json();return(0,a.l_)(p)}async function d(e){let{baseUrl:t,select:r,variables:i}=e,o=(0,n.Z)(e,c),s=await fetch(`${t}/me/payment_methods?fields=${r.map(a.Rb).join(",")}`,u(u({},o),{},{method:"POST",body:JSON.stringify((0,a.mH)(i))}));if(!s.ok)throw new a.F7("A network error occurred",s.status,s);if(204===s.status)return null;if(!s.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let l=await s.json();return(0,a.l_)(l)}var h=r(652983),f=r(296638),y=r(512959),O=r(458388),j=r(173656);let b=["perPage","page"];function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:i,xVimeoPage:a,locale:s}=(0,O.r)();return(0,f.ZP)(r?`/me/payment_methods${(0,o.Y$)(r)}`:()=>null,r?()=>p(g(g({},r),{},{headers:g(g({},r.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),baseUrl:n})):null,t)}function P(){let{mutate:e}=(0,f.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:i}=(0,O.r)(),[a,s]=(0,o.AC)();return[(0,h.useCallback)(async a=>{s({type:"REQUEST"});try{let c=await e(`/me/payment_methods${(0,o.Y$)(a)}`,p(g(g({},a),{},{baseUrl:t,headers:g(g({},a.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":i??"en"})})));s({type:"SUCCESS",payload:c})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,i,s]),a]}function x(){let{baseUrl:e,jwt:t,xVimeoPage:r,locale:n}=(0,O.r)(),[i,a]=(0,o.AC)();return[(0,h.useCallback)(async i=>{a({type:"REQUEST"});try{let o=await d(g(g({},i),{},{baseUrl:e,headers:g(g({},i.headers),{},{"Content-Type":"application/json",Authorization:t?`jwt ${t}`:"","Vimeo-Page":`${r}`,"Accept-Language":n??"en"})}));a({type:"SUCCESS",payload:o})}catch(e){a({type:"FAILURE",payload:e})}},[e,r,t,n,a]),i]}"true"===j.env.STORYBOOK&&(0,o.MR)(w,{endpoint:"/me/payment_methods",method:"GET"}),"true"===j.env.STORYBOOK&&(0,o.MR)(P,{endpoint:"/me/payment_methods",method:"GET"}),"true"===j.env.STORYBOOK&&(0,o.MR)(function(e,t){let r="function"==typeof e?e():e,{baseUrl:i,jwt:o,xVimeoPage:a,locale:s}=(0,O.r)();return(0,y.ZP)((e,t)=>{if(null===r||t&&!t.paging.next)return null;let i=r.query??{},{perPage:o=25,page:a}=i,s=(0,n.Z)(i,b),c=r.select.join(","),l=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/me/payment_methods?page=${e+1}&perPage=${o}&fields=${c}&${l}`,e]},null!==r?([e,t])=>p(g(g({},r),{},{baseUrl:i,headers:g(g({},r.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:g(g({},r.query),{},{page:t+1})})):null,t)},{endpoint:"/me/payment_methods",method:"GET"}),"true"===j.env.STORYBOOK&&(0,o.MR)(x,{endpoint:"/me/payment_methods",method:"POST"})},8278:function(e,t,r){r.d(t,{qh:function(){return m}});var n=r(846211),i=r(706138),o=r(727926);let a=["baseUrl","select","where","query"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function l(e){let{baseUrl:t,select:r,where:{userId:i},query:s}=e,l=(0,n.Z)(e,a),u=await fetch(`${t}/users/${i}/settings/billing/payment_methods?${(0,o.Ov)(s)}&fields=${r.map(o.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new o.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let p=await u.json();return(0,o.l_)(p)}var u=r(296638),p=r(750042),d=r(652983),h=r(512959),f=r(458388),y=r(173656);let O=["perPage","page"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function m(){let{mutate:e}=(0,u.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:i}=(0,f.r)(),[o,a]=(0,p.AC)();return[(0,d.useCallback)(async o=>{a({type:"REQUEST"});try{let s=await e(`/users/${o.where.userId}/settings/billing/payment_methods${(0,p.Y$)(o)}`,l(b(b({},o),{},{baseUrl:t,headers:b(b({},o.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":i??"en"})})));a({type:"SUCCESS",payload:s})}catch(e){a({type:"FAILURE",payload:e})}},[t,n,r,i,a]),o]}"true"===y.env.STORYBOOK&&(0,p.MR)(function(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:i,xVimeoPage:o,locale:a}=(0,f.r)();return(0,u.ZP)(r?`/users/${r.where.userId}/settings/billing/payment_methods${(0,p.Y$)(r)}`:()=>null,r?()=>l(b(b({},r),{},{headers:b(b({},r.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${o}`,"Accept-Language":a??"en"}),baseUrl:n})):null,t)},{endpoint:"/users/:userId/settings/billing/payment_methods",method:"GET"}),"true"===y.env.STORYBOOK&&(0,p.MR)(m,{endpoint:"/users/:userId/settings/billing/payment_methods",method:"GET"}),"true"===y.env.STORYBOOK&&(0,p.MR)(function(e,t){let r="function"==typeof e?e():e,{baseUrl:i,jwt:o,xVimeoPage:a,locale:s}=(0,f.r)();return(0,h.ZP)((e,t)=>{if(null===r||t&&!t.paging.next)return null;let i=r.query??{},{perPage:o=25,page:a}=i,s=(0,n.Z)(i,O),c=r.select.join(","),l=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/users/${r.where.userId}/settings/billing/payment_methods?page=${e+1}&perPage=${o}&fields=${c}&${l}`,e]},null!==r?([e,t])=>l(b(b({},r),{},{baseUrl:i,headers:b(b({},r.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:b(b({},r.query),{},{page:t+1})})):null,t)},{endpoint:"/users/:userId/settings/billing/payment_methods",method:"GET"})},724993:function(e,t,r){r.d(t,{d:function(){return j},Z:function(){return b}});var n=r(706138),i=r(846211),o=r(727926);let a=["baseUrl","select","where"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function l(e){let{baseUrl:t,select:r,where:{userId:n,subscriptionId:s}}=e,l=(0,i.Z)(e,a),u=await fetch(`${t}/users/${n}/subscriptions/${s}?fields=${r.map(o.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new o.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let p=await u.json();return(0,o.l_)(p)}var u=r(296638),p=r(750042),d=r(652983),h=r(458388),f=r(173656);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:i,xVimeoPage:o,locale:a}=(0,h.r)();return(0,u.ZP)(r?`/users/${r.where.userId}/subscriptions/${r.where.subscriptionId}${(0,p.Y$)(r)}`:()=>null,r?()=>l(O(O({},r),{},{headers:O(O({},r.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${o}`,"Accept-Language":a??"en"}),baseUrl:n})):null,t)}function b(){let{mutate:e}=(0,u.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:i}=(0,h.r)(),[o,a]=(0,p.AC)();return[(0,d.useCallback)(async o=>{a({type:"REQUEST"});try{let s=await e(`/users/${o.where.userId}/subscriptions/${o.where.subscriptionId}${(0,p.Y$)(o)}`,l(O(O({},o),{},{baseUrl:t,headers:O(O({},o.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":i??"en"})})));a({type:"SUCCESS",payload:s})}catch(e){a({type:"FAILURE",payload:e})}},[t,n,r,i,a]),o]}"true"===f.env.STORYBOOK&&(0,p.MR)(j,{endpoint:"/users/:userId/subscriptions/:subscriptionId",method:"GET"}),"true"===f.env.STORYBOOK&&(0,p.MR)(b,{endpoint:"/users/:userId/subscriptions/:subscriptionId",method:"GET"})},713474:function(e,t,r){r.d(t,{Z:function(){return e_}});var n=r(706138),i=r(652983),o=r(352950),a=r(722893),s=r(19683),c=r(64451);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let p=e=>({team_owner_id:e?.teamData?.ownerId,actor_team_role:e?.untranslatedUserRole.toLowerCase()}),d=async(e,t={},r=1)=>{try{let n=new c.Event(e,r,u({product:s.z,path:window.parent.location.pathname},t));c.BigPictureClient.sendEvent(n)}catch(e){console.error(e)}},h=e=>({purchaseSeatsTriggeredEvent:t=>d(s.Kg.PURCHASE_TEAM_SEATS,u(u({},p(e)),t),6),confirmPurchaseEvent:t=>d(s.Kg.CONFIRM_TEAM_SEAT_PURCHASE,u(u({},p(e)),t),7),purchaseSeatsFailure:t=>d(s.Kg.PURCHASE_TEAM_SEATS_FAILED,u(u({},p(e)),t),2),trackBillingPageEvents:(t,r)=>d(t,u(u({},p(e)),r),1),trackSeatCountUpdation:t=>{d(s.Kg.CHANGE_NUMBER_OF_SEATS,u(u({},p(e)),t),2)},trackCompletedOrder:e=>{d(s.Kg.ZUORA_ORDER_COMPLETED,{zuora_order_id:e},2)}});var f=r(797657),y=r(751004),O=r(926579),j=r(112756),b=r(404701),m=r(567848),g=r(192740),w=r(205609),P=r(158995),x=r(767269),v=r(670296),E=r(590862),S=r(637019),D=r(93101),A=r(465751),_=r(351899),C=r.n(_),T=r(846211),I=r(727926);let $=["baseUrl","select","where","query"];function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function Z(e){let{baseUrl:t,select:r,where:{productId:n},query:i}=e,o=(0,T.Z)(e,$),a=await fetch(`${t}/payments/products/${n}/pricing_quote?${(0,I.Ov)(i)}&fields=${r.map(I.Rb).join(",")}`,k(k({},o),{},{method:"GET"}));if(!a.ok)throw new I.F7("A network error occurred",a.status,a);if(204===a.status)return null;if(!a.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let s=await a.json();return(0,I.l_)(s)}var N=r(296638),M=r(750042),F=r(458388),U=r(173656);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(){let{mutate:e}=(0,N.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:o}=(0,F.r)(),[a,s]=(0,M.AC)();return[(0,i.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/payments/products/${i.where.productId}/pricing_quote${(0,M.Y$)(i)}`,Z(L(L({},i),{},{baseUrl:t,headers:L(L({},i.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,o,s]),a]}"true"===U.env.STORYBOOK&&(0,M.MR)(function(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:i,xVimeoPage:o,locale:a}=(0,F.r)();return(0,N.ZP)(r?`/payments/products/${r.where.productId}/pricing_quote${(0,M.Y$)(r)}`:()=>null,r?()=>Z(L(L({},r),{},{headers:L(L({},r.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${o}`,"Accept-Language":a??"en"}),baseUrl:n})):null,t)},{endpoint:"/payments/products/:productId/pricing_quote",method:"GET"}),"true"===U.env.STORYBOOK&&(0,M.MR)(B,{endpoint:"/payments/products/:productId/pricing_quote",method:"GET"});let z=["baseUrl","select","variables","where"];function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function G(e){let{baseUrl:t,select:r,variables:n,where:{userId:i}}=e,o=(0,T.Z)(e,z),a=await fetch(`${t}/users/${i}/orders/update/preview?fields=${r.map(I.Rb).join(",")}`,V(V({},o),{},{method:"POST",body:JSON.stringify((0,I.mH)(n))}));if(!a.ok)throw new I.F7("A network error occurred",a.status,a);if(204===a.status)return null;if(!a.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let s=await a.json();return(0,I.l_)(s)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(){let{mutate:e}=(0,N.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:o}=(0,F.r)(),[a,s]=(0,M.AC)();return[(0,i.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/users/${i.where.userId}/orders/update/preview${(0,M.Y$)(i)}`,G(K(K({},i),{},{baseUrl:t,headers:K(K({},i.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":o??"en"})})),!1);s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,o,s]),a]}"true"===r(173656).env.STORYBOOK&&(0,M.MR)(J,{endpoint:"/users/:userId/orders/update/preview",method:"POST"});var Q=r(597325);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ee=({billingPlanId:e,canUsePaymentsService:t,currency:r,numberOfSeats:n,ownerId:o,productId:a,subscriptionId:s})=>{let c=(0,Q.R)(),{0:l,1:u}=(0,i.useState)(),[p,d]=B(),[h,f]=J(),{data:y,error:O,loading:j}=l||{};(0,i.useEffect)(function(){t?u(X(X({},f),{},{data:f?.data&&r?function({currency:e,locale:t,orderPreview:r}){let n=new Intl.NumberFormat(t,{style:"currency",currency:e}),i=r?.subtotalAmount.amount||0,o=r?.subtotalAmount.formatted||"",a=0,s="",c=r?.totalAmount.amount||0,l=r?.totalAmount.formatted||"";if(r?.isTrial&&(c=0,l=n.format(c)),!r?.isTrial){let e=r?.previewItems?.find(e=>"ORDER_ITEM_CHANGE_TYPE_CURRENT"===e.changeType)||{subtotalAmount:{amount:0},quantity:0},t=r?.previewItems?.find(e=>"ORDER_ITEM_CHANGE_TYPE_ADDED"===e.changeType)||{subtotalAmount:{amount:0},quantity:0};i=(e?.subtotalAmount?.amount||0)/e?.quantity*(t?.quantity-e?.quantity),o=n.format(i),a=i-(r?.subtotalAmount.amount||0),s=n.format(a)}return{estimatedTax:`${r?.totalTaxAmount.amount}`,estimatedTaxCountry:r?.billingAddress?.country??"",estimatedTaxDisplay:r?.totalTaxAmount.formatted??"",estimatedTaxPostalCode:r?.billingAddress?.postalCode??"",proration:{amount:`${a}`,amountDisplay:s,date:"",productId:""},status:"success",subTotal:`${i}`,subTotalDisplay:o,totalPrice:`${c}`,totalPriceDisplay:l}}({orderPreview:f?.data,currency:r,locale:c.locale}):null})):u(X(X({},d),{},{data:d?.data??null}))},[t,r,f,c.locale,d]);let b=(0,i.useMemo)(()=>C()(r=>{if(t)e&&s&&h({select:[],where:{userId:o},variables:{type:"seat_change",billingPlanId:e,subscriptionId:s,seatQuantity:r}});else{if(!a)throw Error("productId is required when not using the payments service");p({select:[],where:{productId:a},query:{productId:a,quantity:r.toString()}})}},300),[e,t,p,o,a,s,h]);return(0,i.useEffect)(function(){n&&b(n)},[b,n]),{pricingQuoteData:y,quoteError:O,isQuoteLoading:j}},et=r(867883);let er=["baseUrl","select","variables","where"];function en(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?en(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):en(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function eo(e){let{baseUrl:t,select:r,variables:n,where:{userId:i}}=e,o=(0,T.Z)(e,er),a=await fetch(`${t}/payments/users/${i}/capture?fields=${r.map(I.Rb).join(",")}`,ei(ei({},o),{},{method:"POST",body:JSON.stringify((0,I.mH)(n))}));if(!a.ok)throw new I.F7("A network error occurred",a.status,a);if(204===a.status)return null;if(!a.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let s=await a.json();return(0,I.l_)(s)}function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ec(){let{mutate:e}=(0,N.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:o}=(0,F.r)(),[a,s]=(0,M.AC)();return[(0,i.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/payments/users/${i.where.userId}/capture${(0,M.Y$)(i)}`,eo(es(es({},i),{},{baseUrl:t,headers:es(es({},i.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":o??"en"})})),!1);s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,o,s]),a]}"true"===r(173656).env.STORYBOOK&&(0,M.MR)(ec,{endpoint:"/payments/users/:userId/capture",method:"POST"});let el=["baseUrl","select","variables","where"];function eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function ed(e){let{baseUrl:t,select:r,variables:n,where:{userId:i,subscriptionId:o}}=e,a=(0,T.Z)(e,el),s=await fetch(`${t}/users/${i}/orders/subscriptions/${o}?fields=${r.map(I.Rb).join(",")}`,ep(ep({},a),{},{method:"POST",body:JSON.stringify((0,I.mH)(n))}));if(!s.ok)throw new I.F7("A network error occurred",s.status,s);if(204===s.status)return null;if(!s.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let c=await s.json();return(0,I.l_)(c)}function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ey(){let{mutate:e}=(0,N.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:o}=(0,F.r)(),[a,s]=(0,M.AC)();return[(0,i.useCallback)(async i=>{s({type:"REQUEST"});try{let a=await e(`/users/${i.where.userId}/orders/subscriptions/${i.where.subscriptionId}${(0,M.Y$)(i)}`,ed(ef(ef({},i),{},{baseUrl:t,headers:ef(ef({},i.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":o??"en"})})),!1);s({type:"SUCCESS",payload:a})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,o,s]),a]}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ej(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}"true"===r(173656).env.STORYBOOK&&(0,M.MR)(ey,{endpoint:"/users/:userId/orders/subscriptions/:subscriptionId",method:"POST"});var eb=({billingPlanId:e,canUsePaymentsService:t,numberOfSeats:r,ownerId:n,paymentInUse:o,productId:a,subscriptionId:s})=>{let{0:c,1:l}=(0,i.useState)(),[u,p]=ec(),[d,h]=ey(),{data:y,error:O,callCount:j,loading:b}=c||{};return(0,i.useEffect)(function(){t?l(ej(ej({},h),{},{data:{paypalRedirectUrl:"",gtmData:"{}",order:h?.data??{},status:"success"}})):l(ej(ej({},p),{},{data:p?.data??null}))},[h,p,t]),{capturePaymentLoading:b,capturePaymentError:O,capturePaymentCallCount:j,handleCapturePayment:async()=>{let i=(0,f.qx)(o?.uri);if(t&&s&&e&&i)return await d({select:[],where:{userId:n,subscriptionId:s},variables:{type:"seat_change",billingPlanId:e,paymentMethodId:i,seatQuantity:r}});if(!a)throw Error("productId is required when not using the payments service");return await u({select:[],where:{userId:n},variables:{productId:a,quantity:r.toString(),existingPaymentMethod:Number(i)}})},paymentData:y}},em=r(396769),eg=r(808148),ew=r(680057),eP=r(397458);function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ev(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let eE=e=>(0,eP.jsx)(y.xu,ev(ev({display:"flex",justifyContent:"space-between",alignItems:"center"},e),{},{children:e.children}));var eS=({analyticsData:e,canUsePaymentsService:t,initSeatsPurchase:r=1,isTrial:n,maxSeatsPurchase:o=60,minSeatsPurchase:a=1,onCancel:c,onClose:l,onPurchaseFailure:u=()=>null,onPurchaseSuccess:p=()=>null,ownerId:d,productId:_,setBackdropCloseActive:C,triggeredFrom:T,userId:I})=>{let $={[s.vc.BILLING_PAGE_ADD_SEATS]:n?A.Z.AddSeats:A.Z.CompletePurchase,[s.vc.INVITE_MODAL]:n?A.Z.AddInvite:A.Z.PurchaseInvite,[s.vc.RESOURCE_SHARE_MODAL]:n?A.Z.AddInvite:A.Z.PurchaseInvite,[s.vc.FOLDER_SHARE_MODAL]:n?A.Z.AddInvite:A.Z.PurchaseInvite,[s.vc.VIDEO_SHARE_MODAL]:n?A.Z.AddInvite:A.Z.PurchaseInvite,[s.vc.ROLE_CHANGE_MENU]:n?A.Z.AddSeats:A.Z.CompletePurchase,[s.vc.UPSELL_BANNER]:n?A.Z.AddSeats:A.Z.CompletePurchase,[s.vc.ONBOARDING_INVITES]:n?A.Z.AddInvite:A.Z.PurchaseInvite},R={[s.vc.ONBOARDING_INVITES]:A.Z.InvitesViewersFree},k=e?.teamInfo,Z=k?.seatDetails,N=Z?.additionalPurchasedCount||0,M=Z?.basePlanCount||1,F=e&&e?.planTier?s.Ps[e?.planTier]:"",{0:U,1:Y}=(0,i.useState)(r),{0:L,1:B}=(0,i.useState)(null),{0:z,1:q}=(0,i.useState)({increase:0,decrease:0}),{billingPeriod:V,billingPlanId:G,currency:H,endDate:K,hasAutoRenew:J,isExpired:Q,isPayPal:W,paymentInUse:X,paymentMethods:er,paymentMethodsData:en,paymentMethodsError:ei,paymentMethodsLoading:eo,pricePerSeat:ea,seatCount:es,setPaymentInUse:ec,subscriptionId:el,subtotalWithCurrencyPerSeat:eu}=(0,et.Z)({ownerId:d,canUsePaymentsService:t,canFetchPaymentMethods:!0}),{pricingQuoteData:ep,quoteError:ed,isQuoteLoading:eh}=ee({billingPlanId:G,canUsePaymentsService:t,currency:H,numberOfSeats:U,ownerId:d,productId:_,subscriptionId:el}),{capturePaymentCallCount:ef=0,capturePaymentError:ey,capturePaymentLoading:eO,handleCapturePayment:ej,paymentData:ex}=eb({billingPlanId:G,canUsePaymentsService:t,numberOfSeats:U,ownerId:d,paymentInUse:X,productId:_,subscriptionId:el});(0,i.useEffect)(()=>{ed?B(s.Nf.BILLING_FETCH_FAILED):ey?B(s.Nf.PAYMENT_FAILED):B(null)},[ed,ey]),(0,i.useEffect)(()=>{if(!eO&&ef>0){if(ey){if(u(),e&&e.teamInfo&&T){let{teamInfo:t}=e;h(t).purchaseSeatsFailure({feature:(0,f._3)(T),location:s.f5[T],failure_reason:s._I.UNKNOWN})}}else ex?.paypalRedirectUrl?(eD(),e_(),window.location.href=ex.paypalRedirectUrl):(p(U),eD(),e_(),eS())}},[ef,eO,ey]),(0,i.useEffect)(()=>{C(!eO)},[eO]);let eS=()=>{if(e&&e.teamInfo&&T){let{clipId:t,folderId:r,isTrial:n,planType:i,subscriptionType:o,teamInfo:a}=e;h(a).trackSeatCountUpdation({feature:(0,f._3)(T),location:s.f5[T],increase_seat_count:z.increase,decrease_seat_count:z.decrease,subscription_type:o,folder_id:r,clip_id:t,plan_type:i,is_trial:n})}l()},eD=()=>{if(e&&e.teamInfo&&T){let{teamInfo:t,priorSeats:r,folderId:n,clipId:i,subscriptionType:o,planType:a,isTrial:c}=e;h(t).confirmPurchaseEvent({feature:(0,f._3)(T),location:s.f5[T],seats_purchased:U,product_id:_,prior_seats:r,resulting_seats:r+U,folder_id:n,clip_id:i,subscription_type:o,plan_type:a,is_trial:c});let l=ex?.order?.orderId??null;"string"==typeof l&&h(t).trackCompletedOrder(l)}},eA=()=>{let e=window;return e._gtm=e._gtm||[],e._gtm},e_=()=>{let e=eA(),t=JSON.parse(ex?.gtmData??"{}");t.page_type="Settings",e.push(t)},eC=e=>{let t=er?.find(t=>f.qx(t.uri)===e);t&&ec(t)},eT=()=>{if(er){for(let e=0;e<er?.length;e++)if(!(0,f.VN)(er[e]))return!1}return!0},eI=ep?ep.subTotalDisplay:"--",e$=ep?ep.estimatedTaxDisplay:"--",eR=ep?ep?.proration?.amount.match(/(\d|\.|\,)+/):null,ek=ep?`-${ep?.proration?.amountDisplay}`:"--",eZ=ep?ep.totalPriceDisplay:"--",eN=new Date(String(K)),eM=eN.toLocaleDateString(navigator.language||"en-US",{year:"numeric",month:"short",day:"numeric"});eN.setDate(eN.getDate()+1);let eF=(0,i.useRef)(null);return(0,eP.jsxs)(O.h,{children:[(0,eP.jsx)(j.x,{children:(0,eP.jsx)(b.h,{as:"h5",size:"sm",color:"text-primary",children:A.Z.PurchaseAdditionalSeats})}),(0,eP.jsx)(m.o,{onClick:eS}),L&&(0,eP.jsx)(em.Z,{noticeType:L}),(0,eP.jsxs)(g.f,{children:[(0,eP.jsx)(eE,{children:ea&&ep?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsxs)(y.xu,{flexDirection:"column",children:[(0,eP.jsxs)(w.x,{variant:"body-md",children:[A.Z.NumberOfSeats," "]}),(0,eP.jsx)(w.x,{variant:"body-sm",color:"text-secondary",children:A.Z.PricePerSeat((0,f.ni)(ea,H??"",0))})]}),(0,eP.jsxs)(P.Y2,{maxW:(0,x.h)(78),defaultValue:U,min:a,max:o,onChange:e=>Y(parseInt(e)),isDisabled:eO,children:[(0,eP.jsx)(P.zu,{}),(0,eP.jsxs)(P.Fi,{children:[(0,eP.jsx)(P.WQ,{onClick:()=>q(ev(ev({},z),{},{increase:z.increase+1}))}),(0,eP.jsx)(P.Y_,{onClick:()=>q(ev(ev({},z),{},{decrease:z.decrease+1}))})]})]})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.dc,{}),(0,eP.jsx)(ew.pl,{})]})}),(0,eP.jsx)(eE,{marginTop:(0,x.h)(8),children:eo||!ep?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.dc,{}),(0,eP.jsx)(ew.pl,{})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsxs)(y.xu,{display:"flex",alignItems:"center",justifyContent:"left",verticalAlign:"middle",gap:(0,x.h)(8),children:[(0,eP.jsx)(w.x,{variant:"heading-xs",children:A.Z.PaymentMethod}),(0,eP.jsx)(y.xu,{as:"span",ref:eF,children:(0,eP.jsx)(v.u,{label:A.Z.PaymentMethodTip,placement:"bottom",portalProps:{containerRef:eF},children:(0,eP.jsx)(y.xu,{display:"flex",as:"span",children:(0,eP.jsx)(S.Z,{h:(0,x.h)(16),w:(0,x.h)(16),color:"text-tertiary"})})})})]}),((t,r)=>{let n=eT();return t&&Z?(0,eP.jsx)(eg.a,{activePaymentMethod:X,edit:!1,status:!0,paymentMethods:er??[],onSelect:eC,isOperationOngoing:!1,trackAddPaymentMethod:()=>{e&&h(e.teamInfo).trackBillingPageEvents(s.IW.ADD_PAYMENT_METHOD,{location:"checkout_modal_dropdown"})},trackOpenSelectDropdown:()=>{e&&h(e.teamInfo).trackBillingPageEvents(s.IW.OPEN_CARD_DROPDOWN,{location:"checkout_modal_dropdown"})},hasPaymentExpired:r,allPaymentMethodsExpired:n,addNewPaymentMethod:!X}):(0,eP.jsx)(ew.MU,{children:"--"})})(!!en,Q)]})}),(0,eP.jsx)(eE,{children:eo||!ep?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.dc,{}),(0,eP.jsx)(ew.pl,{})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsxs)(ew.d2,{children:[(0,eP.jsx)(ew.MU,{children:A.Z.Subtotal}),(0,eP.jsx)(y.xu,{ref:eF,children:(0,eP.jsx)(v.u,{label:A.Z.SubtotalTip(eu,V),placement:"bottom",portalProps:{containerRef:eF},children:(0,eP.jsx)(ew.CV,{variant:"hyperminimal",icon:(0,eP.jsx)(D.E,{}),iconPosition:"right",size:"sm"})})})]}),(0,eP.jsx)(ew.MU,{children:eI})]})}),eR&&!!parseFloat(eR[0])&&(0,eP.jsx)(eE,{children:eo||!ep?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.dc,{}),(0,eP.jsx)(ew.pl,{})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsxs)(ew.d2,{children:[(0,eP.jsx)(ew.p$,{children:A.Z.BillingAdjustment}),(0,eP.jsx)(y.xu,{ref:eF,children:(0,eP.jsx)(v.u,{label:A.Z.BillingAdjustmentTip,placement:"bottom",portalProps:{containerRef:eF},children:(0,eP.jsx)(ew.CV,{variant:"hyperminimal",icon:(0,eP.jsx)(D.E,{}),iconPosition:"right",size:"sm"})})})]}),(0,eP.jsx)(ew.p$,{children:ek})]})}),(0,eP.jsx)(eE,{children:eo||!ep?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.dc,{}),(0,eP.jsx)(ew.pl,{})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.MU,{children:A.Z.Tax}),(0,eP.jsx)(ew.MU,{children:e$})]})}),(0,eP.jsx)(ew.Fl,{}),(0,eP.jsx)(ew.Qp,{children:(0,eP.jsx)(eE,{children:eo||!ep?(0,eP.jsxs)(eP.Fragment,{children:[n?(0,eP.jsx)(ew.mj,{}):(0,eP.jsx)(ew.dc,{}),n?(0,eP.jsx)(ew.Yb,{}):(0,eP.jsx)(ew.pl,{})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(w.x,{variant:"heading-sm",children:A.Z.DueToday}),n?(0,eP.jsxs)("div",{children:[(0,eP.jsx)(w.x,{as:"s",variant:"heading-sm",children:eI}),(0,eP.jsx)(w.x,{variant:"heading-sm",children:eZ})]}):(0,eP.jsx)(w.x,{variant:"heading-sm",children:eZ})]})})}),n&&(0,eP.jsxs)(eP.Fragment,{children:[!eo&&ep&&ea?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.Fl,{}),(0,eP.jsx)("div",{children:(0,eP.jsx)(ew.u8,{size:"7",children:A.Z.SubscriptionStartsOn((eN.getMonth()+1).toString().padStart(2,"0")+"/"+eN.getDate().toString().padStart(2,"0")+"/"+eN.getFullYear().toString().substring(2))})}),(0,eP.jsxs)(eE,{children:[(0,eP.jsx)(ew.u8,{size:"7",children:A.Z.BasePlanPlusSeats(F,M)}),(0,eP.jsx)(ew.u8,{size:"7",children:eu})]}),(0,eP.jsxs)(eE,{children:[(0,eP.jsx)(ew.u8,{size:"7",children:A.Z.AdditionalSeats(U+N)}),(0,eP.jsxs)(ew.u8,{size:"7",children:["+"," ",(0,f.ni)((U+N)*ea,H??"",2)]})]})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.dc,{}),(0,eP.jsx)(ew.pl,{})]}),(0,eP.jsx)(ew.Fl,{}),(0,eP.jsx)(eE,{marginBottom:(0,x.h)(16),children:eo||!ep?(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(ew.LJ,{}),(0,eP.jsx)(ew.sW,{})]}):(0,eP.jsxs)(eP.Fragment,{children:[(0,eP.jsx)(b.h,{as:"h6",size:"xs",children:A.Z.DueAtSubscriptionStart}),(0,eP.jsx)(b.h,{as:"h6",size:"xs",children:(0,f.ni)(((es??0)+U)*(ea??0),H??"",2)})]})})]}),eo||!ep?(0,eP.jsx)(eP.Fragment,{children:(0,eP.jsx)(ew.aN,{trial:n})}):(0,eP.jsxs)(ew.qn,{children:[(0,eP.jsx)(w.x,{marginTop:(0,x.h)(16),marginBottom:(0,x.h)(8),variant:"body-sm",color:"text-secondary",children:n?A.Z.TermsConditionsTrial("/terms","/privacy",(0,f.ni)(((es??0)+U)*(ea??0),H??"",2),eM,V?"monthly"===V.toLowerCase()||"month"===V.toLowerCase()?A.Z.Month:A.Z.Year:"",()=>void 0,()=>void 0):J?A.Z.TermsConditionsOptedIn("/terms","/privacy",(0,f.ni)(((es??0)+U)*(ea??0),H??"",2),V?"monthly"===V.toLowerCase()||"month"===V.toLowerCase()?A.Z.Month:A.Z.Year:"",()=>void 0,()=>void 0):A.Z.TermsConditionsOptedOut("/terms","/privacy",(0,f.ni)(((es??0)+U)*(ea??0),H??"",2),()=>void 0,()=>void 0)}),n?(0,eP.jsx)(w.x,{variant:"body-sm",color:"text-secondary",children:A.Z.TrialReceiptInfo}):(0,eP.jsx)(w.x,{variant:"body-sm",color:"text-secondary",children:A.Z.ReceiptInfo})]}),(0,eP.jsx)(E.z,{onClick:ej,isDisabled:eh||!!ed||!!ei||eO||eo||Q||!X,isLoading:eO,size:"md",type:"button",width:"100%",children:W&&!t?A.Z.ContinueToPayPal:T&&$[T]?$[T]:A.Z.Cancel}),(0,eP.jsx)(ew.gY,{onClick:()=>c?c():eS(),fluid:!0,size:"md",variant:"minimalTransparent",format:"basic",type:"button",disabled:eO,children:T&&R[T]?R[T]:A.Z.Cancel}),W&&(0,eP.jsx)(ew.qn,{children:(0,eP.jsx)(ew.kn,{children:n?A.Z.PayPayTrialInfo:A.Z.PayPayRedirctInfo})})]})]})};function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e_=e=>{let{0:t,1:r}=(0,i.useState)(!0),{triggeredFrom:n,analyticsData:c}=e;return(0,i.useEffect)(()=>{if(c&&c.teamInfo&&n){let{teamInfo:e,folderId:t,clipId:r,subscriptionType:i,planType:o,isTrial:a}=c;h(e).purchaseSeatsTriggeredEvent({feature:(0,f._3)(n),location:s.f5[n],folder_id:t,clip_id:r,subscription_type:i,plan_type:o,is_trial:a})}},[]),(0,eP.jsxs)(o.u,{isOpen:e.isActive,onClose:e.onClose,children:[(e.hasScreen??!0)&&(0,eP.jsx)(a.Z,{}),eS(eA(eA({},e),{},{setBackdropCloseActive:r}))]})}},808148:function(e,t,r){r.d(t,{a:function(){return L},Z:function(){return H}});var n=r(706138),i=r(652983),o=r(173898),a=r(899682),s=r(696146),c=r(657699),l=r(751004),u=r(767269),p=r(731500),d=r(590862),h=r(205609),f=r(331427),y=r(691848),O=r(604274),j=r(406992),b=r(492836),m=r(80135),g=r(920466),w=r(465751),P=r(524777),x=r(394580),v=r(840451),E=r(430073),S=r(110248),D=r(342904),A=r(990931),_=r(457432),C=r(174338),T=r(47999),I=r(797657),$=r(680057),R=r(397458);let k={amex:E.U,visa:S.k,discover:D.k,mastercard:A.q,off:C.A,error:T.G,paypal:_.K},Z=({selected:e,paymentMethod:t,onClick:r,methodDisabled:n=!1,showGracePeriodOptimization:i=!1})=>{let o=t?.uri||"",a=o.substring(o.lastIndexOf("/")+1),s=(0,I.VN)(t),c=n||!!t.disableOption,l=k[t.type]||k.off;return i?(0,R.jsxs)(x.k,{alignItems:"center",justifyContent:"space-between",onClick:c?void 0:()=>r(a),pointerEvents:s||c?"none":"auto",p:2,children:[(0,R.jsxs)(x.k,{alignItems:"center",gap:1,children:[(0,R.jsx)($.gM,{"data-id":"selected",marginNeeded:!e,children:(0,R.jsx)(l,{color:e||c?"darkBlueAlpha.500":"inherit"})}),(0,R.jsx)(N,{paymentMethod:t,disabled:c,methodDisabled:n,expired:s,selected:e,showGracePeriodOptimization:i})]}),e&&(0,R.jsx)(v.M,{width:"16",height:"16",color:s||c?"darkBlueAlpha.500":"inherit"})]},a):(0,R.jsxs)(M,{className:`${c?"disabled":""} ${t.inUse?"active":""}`,onClick:c?void 0:()=>r(a),expired:s,children:[e&&(0,R.jsx)(F,{children:(0,R.jsx)(v.M,{})}),(0,R.jsx)($.gM,{"data-id":"selected",marginNeeded:!e,children:(0,R.jsx)(l,{})}),(0,R.jsx)(N,{paymentMethod:t,disabled:c,methodDisabled:n,expired:s,selected:e})]},a)},N=({paymentMethod:e,disabled:t,methodDisabled:r,expired:n,selected:i,showGracePeriodOptimization:o=!1})=>{let{paypalEmail:a,lastFour:s,textType:c,type:l}=e,u="paypal"===l?a||w.Z.PayPal:s||c||w.Z.Unknown,p=o&&(i||t||r)?"var(--vimeo-colors-darkBlueAlpha-500)":void 0;return(0,R.jsxs)(R.Fragment,{children:[e.lastFour&&(0,R.jsx)($.KJ,{colorOverride:p,expired:n,disabled:t,warning:r,children:"...."}),(0,R.jsx)($.R6,{colorOverride:p,expired:n||"paypal"===l||!s&&!c,disabled:t,warning:r,children:u}),!o&&n&&(0,R.jsx)($.fN,{paddingNeeded:!0,children:w.Z.CardExpired})]})},M=o.default.div.withConfig({componentId:"sc-6y1tf1-0"})(["display:flex;width:100%;justify-content:flex-start;align-items:center;height:",";gap:",";cursor:",";",";opacity:",";padding:0 ",";&.active{background-color:",";}&:hover{background-color:",";}&.disabled{cursor:default;&.active{background-color:inherit;}&:hover{background-color:inherit;}}"],(0,P.rem)(40),(0,P.rem)(8),({expired:e})=>e?"default":"pointer",({expired:e})=>e&&"pointer-events: none",({expired:e})=>e?.5:1,(0,P.rem)(8),({theme:e})=>"dark"===e.name?(0,m.se)(500):(0,m.ae)(50),({theme:e})=>"dark"===e.name?(0,m.se)(500):(0,m.ae)(50)),F=o.default.div.withConfig({componentId:"sc-6y1tf1-1"})(["display:flex;justify-content:center;align-items:center;& svg{height:",";width:",";color:",";& path{fill:",";}}"],(0,P.rem)(20),(0,P.rem)(20),(0,m.iN)(500),(0,m.iN)(500));function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let L=({edit:e=!0,status:t,paymentMethods:r=[],onSelect:n,isOperationOngoing:o,activePaymentMethod:f,trackAddPaymentMethod:j=()=>null,trackOpenSelectDropdown:P=()=>null,hasPaymentExpired:x,allPaymentMethodsExpired:v,addNewPaymentMethod:E,inGracePeriod:S=!1})=>{let{0:D,1:A}=(0,i.useState)(!1),_=(0,i.useRef)(null),{assignment:C}=(0,b.MY)({flagKey:"grace-period-optimization",assignmentType:"BOOLEAN",defaultAssignment:!1,disabled:!S});(0,g.Z)([_],()=>{D&&A(!1)},null,[D]),(0,i.useEffect)(()=>A(!o&&D),[o]);let{onOpen:T,onClose:I,isOpen:$}=(0,a.q)();return(0,R.jsxs)(s.J,{isOpen:$,initialFocusRef:_,onOpen:T,onClose:I,placement:"bottom",matchWidth:!0,children:[(0,R.jsx)(c.x,{children:(0,R.jsx)(l.xu,{border:`${(0,u.h)(1)} solid`,borderRadius:(0,u.h)(8),borderColor:x||E?"red.600":"input-stroke",background:"input-fill",width:"100%",children:(0,R.jsx)(l.xu,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:(0,u.h)(32),border:"none",cursor:t&&!o?"pointer":"default",opacity:(C||t)&&!o?"1":"0.5",onClick:()=>{t&&!o&&A(!0),P()},children:(0,R.jsx)(B,{addNewPaymentMethod:E,activePaymentMethod:f,allPaymentMethodsExpired:v,hasPaymentExpired:x,isOperationOngoing:o,showGracePeriodOptimization:C,status:t})})})}),(0,R.jsx)(p.y,{ref:_,children:(0,R.jsxs)(l.xu,{children:[(0,R.jsx)(l.xu,{maxHeight:(0,u.h)(150),overflow:"auto",children:r.map(e=>(0,R.jsx)(Z,{methodDisabled:S&&e.uri===f?.uri,selected:e.uri===f?.uri,paymentMethod:e,onClick:e=>{n(e),I()},showGracePeriodOptimization:C},e.uri))}),C&&(0,R.jsx)(l.xu,{borderColor:"stroke",borderWidth:"1px 0 0 0",pt:1,width:"100%",children:(0,R.jsxs)(d.z,{variant:"minimal",width:"100%",p:2,alignItems:"center",justifyContent:"start",gap:2,onClick:()=>{window.open("/store/card/new?update=1","_blank"),j()},children:[(0,R.jsx)(y.F,{}),(0,R.jsx)(h.x,{variant:"body-md",whiteSpace:"break-spaces",children:w.Z.UpdatePaymentMethod})]})}),!C&&(e||v)&&(0,R.jsx)(V,{children:(0,R.jsx)(G,{"data-id":"newCardButton",leftIcon:(0,R.jsx)(O.v,{}),_hover:"none",size:"xs",variant:"minimal",justifyContent:"start",color:(0,m.iN)(500),onClick:()=>{window.open("/store/card/new","_blank"),j()},children:w.Z.AddNewCard})})]})})]})},B=({addNewPaymentMethod:e,activePaymentMethod:t,allPaymentMethodsExpired:r,hasPaymentExpired:n,isOperationOngoing:i,showGracePeriodOptimization:o,status:a})=>{if(!e&&!t)return null;let s=!o&&(r||e)?k.error:t&&k[t.type]||k.off;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.xu,{display:"flex",alignItems:"center",gap:(0,u.h)(8),padding:`0 ${(0,u.h)(8)}`,cursor:a&&!i?"pointer":"default",width:"100%",children:[i?(0,R.jsx)(q,{children:(0,R.jsx)(f.$,{size:"sm"})}):(0,R.jsx)(z,{"data-id":"cardIcon",children:(0,R.jsx)(s,{color:o?"darkBlueAlpha.500":"inherit"})}),!o&&(r||e)?(0,R.jsxs)(R.Fragment,{children:[!e&&r&&(0,R.jsx)($.fN,{paddingNeeded:!1,children:w.Z.AllCardsExpiredAddNew}),e&&(0,R.jsx)($.fN,{paddingNeeded:!1,children:w.Z.AddNewCard})]}):t?(0,R.jsx)(N,{paymentMethod:t,disabled:!0,methodDisabled:!1,expired:!1,selected:!1,showGracePeriodOptimization:o}):null]}),(0,R.jsx)(j.W,{height:(0,u.h)(20),width:(0,u.h)(20),color:!o&&(n||e)?(0,m.Q6)(600):"text-primary",mr:8})]})},z=e=>(0,R.jsx)(l.xu,Y(Y({display:"flex",justifyContent:"center",alignItems:"center"},e),{},{children:e.children}));o.default.div.withConfig({componentId:"sc-1kromve-0"})(["max-height:",";overflow:auto;"],(0,u.h)(150));let q=o.default.div.withConfig({componentId:"sc-1kromve-1"})(["padding:0 ",";align-items:center;"],(0,u.h)(8)),V=o.default.div.withConfig({componentId:"sc-1kromve-2"})(["display:flex;justify-content:flex-start;align-items:center;height:",";& svg{height:",";width:",";color:",";& path{fill:",";}}&:hover{background-color:",";}"],(0,u.h)(40),(0,u.h)(20),(0,u.h)(20),(0,m.iN)(500),(0,m.iN)(500),({theme:e})=>"dark"===e.name?(0,m.se)(500):(0,m.ae)(50)),G=(0,o.default)(d.z).withConfig({componentId:"sc-1kromve-3"})(["display:flex;margin:0;font-size:",";width:100%;font-weight:700;padding:0;&:hover{color:",";}&&& svg{height:",";width:",";}"],(0,u.h)(12),(0,m.iN)(500),(0,u.h)(20),(0,u.h)(20));var H=L},867883:function(e,t,r){var n=r(652983),i=r(467546),o=r(335962),a=r(8278),s=r(724993),c=r(465751),l=r(797657);t.Z=({canFetchPaymentMethods:e,canUsePaymentsService:t,ownerId:r})=>{let{0:u,1:p}=(0,n.useState)(null),{0:d,1:h}=(0,n.useState)(!1),{0:f,1:y}=(0,n.useState)(null),[O,{error:j,data:b,loading:m}]=(0,o.h)(),[g,{data:w,loading:P}]=(0,s.Z)(),[x,{error:v,data:E,loading:S}]=(0,a.qh)(),[D,{error:A,data:_,loading:C}]=(0,i.al)(),{data:T}=f||{},{0:I,1:$}=(0,n.useState)(),R=I?.type==="paypal",k=b?.pricePerSeatForDisplay??"--",Z=b?.billingPeriod==="month"?c.Z.Monthly:c.Z.Annually,N=!!(I&&(0,l.VN)(I));return(0,n.useEffect)(()=>{$(T?.find(e=>e.inUse)||T?.find(e=>e.isSuggested))},[T]),(0,n.useEffect)(function(){r&&e&&(t?D({select:[],query:{}}):x({select:[],where:{userId:r}})),r&&O({select:["billingPeriod","currency","endDate","hasAutorenew","isFreeTrial","pricePerSeat","pricePerSeatForDisplay","seatCount","subscriptionId","suggestedPaymentMethod"],where:{userId:r}})},[e,t,O,D,x,r]),(0,n.useEffect)(function(){e&&t&&r&&b?.subscriptionId&&g({select:[],where:{userId:`${r}`,subscriptionId:b.subscriptionId}})},[e,t,g,b,r]),(0,n.useEffect)(function(){t?(p(A),h(C),_&&y(function({data:e}){return{data:e.map(e=>{if("PAYMENT_METHOD_TYPES_CARD"===e.type&&!e.card)return null;let[t,r]=function(e){switch(e.type){case"PAYMENT_METHOD_TYPES_CARD":switch(e.card?.brand){case"CARD_BRAND_VISA":return["visa","Visa"];case"CARD_BRAND_AMERICAN_EXPRESS":return["amex","American Express"];case"CARD_BRAND_DISCOVER":return["discover","Discover"];case"CARD_BRAND_MASTER_CARD":return["mastercard","MasterCard"];default:return["creditcard",c.Z.Unknown]}case"PAYMENT_METHOD_TYPES_PAYPAL":return["paypal","PayPal"];case"PAYMENT_METHOD_TYPES_APPLEPAY":return["applepay","Apple Pay"];default:return["creditcard",c.Z.Unknown]}}(e);if("PAYMENT_METHOD_TYPES_CC_REF"===e.type){let t=new Date(e.createdAt).toISOString().split("T")[0];r=`Indian Bank Card - Saved ${t}`}return{canUseToOptin:!0,disableOption:!!e.disabledAt,expirationMonth:e.card?.expirationMonth??0,expirationYear:e.card?.expirationYear??0,inUse:e.isDefault,isInstantPurchase:!1,isSuggested:!1,lastFour:e.card?.lastFourDigits??"",paypalEmail:"",textType:r,type:t,uri:`/me/payment_methods/${e.id}`}}).filter(e=>null!==e)}}(_))):(p(v),h(S),y(E??null))},[t,_,A,C,w,E,v,S]),{billingPeriod:Z,billingPlanId:w?.plans[0].billingPlanId,currency:b?.currency,endDate:b?.endDate,hasAutoRenew:b?.hasAutorenew,isExpired:N,isPayPal:R,isTrial:b?.isFreeTrial,paymentInUse:I,paymentMethods:T,paymentMethodsData:f,paymentMethodsError:u||j,paymentMethodsLoading:d||m||t&&P&&!f,pricePerSeat:b?.pricePerSeat,seatCount:b?.seatCount,setPaymentInUse:$,subscriptionId:w?.id,subtotalWithCurrencyPerSeat:k}}},797657:function(e,t,r){r.d(t,{VN:function(){return o},_3:function(){return s},ni:function(){return a},qx:function(){return i}});var n=r(19683);let i=e=>{let t=e&&e.match(/\w+$/);return t?t[0]:""},o=e=>{if(!e.lastFour)return!1;let t=new Date,r=new Date;return r.setFullYear(2e3+e.expirationYear,e.expirationMonth-1,1),r.getTime()<t.getTime()},a=(e,t,r)=>t.length?new Intl.NumberFormat(navigator.language,{minimumFractionDigits:r,style:"currency",currency:t}).format(e).replace(String.fromCharCode(8239)," "):"",s=e=>n.f5[e]===n.f5[n.vc.ONBOARDING_INVITES]?n.Fk:n.iH}}]);
//# sourceMappingURL=13474-71ca2d790da225f6.js.map