"use strict";(()=>{var G=Object.create;var C=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var K=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of H(t))!q.call(e,s)&&s!==r&&C(e,s,{get:()=>t[s],enumerable:!(n=B(t,s))||n.enumerable});return e};var O=(e,t,r)=>(r=e!=null?G(J(e)):{},K(t||!e||!e.__esModule?C(r,"default",{value:e,enumerable:!0}):r,e));var p=u(d=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});function Z(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}Z(d,{get NATIVE_APP_NAME(){return z},get getNativeAppVersionFromUserAgent(){return x},get isNativeApp(){return I},get useIsNativeApp(){return F}});var z="MazeParticipate";function x(e){var t=e.match(new RegExp("".concat(z,"\\/(\\d+\\.\\d+\\.\\d+)")));return t?t[1]:void 0}function I(){if(typeof window>"u"||!window.ReactNativeWebView)return!1;var e=window.navigator.userAgent,t=x(e);return!0}function F(){return I()}});var L=u(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});function Q(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:Object.getOwnPropertyDescriptor(t,r).get})}Q(m,{get logMessage(){return X},get safeJsonStringify(){return ee}});function Y(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function X(e){try{var t=localStorage.getItem("maze:troubleshoot-mobile");t&&console.log("MobileAppCommunication: ".concat(e.name),{message:e})}catch{}}function ee(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,r=new WeakSet;function n(s,i){if(s===null||(typeof s>"u"?"undefined":Y(s))!=="object")return s;if(r.has(s))return"[Circular]";if(i>t)return"[DepthLimit]";if(r.add(s),typeof s.toJSON=="function")try{var f=s.toJSON();return r.delete(s),n(f,i)}catch{}if(Array.isArray(s)){var o=s.map(function(c){return n(c,i+1)});return r.delete(s),o}var h={},l=!0,T=!1,P=void 0;try{for(var g=Object.keys(s)[Symbol.iterator](),b;!(l=(b=g.next()).done);l=!0){var _=b.value;h[_]=n(s[_],i+1)}}catch(c){T=!0,P=c}finally{try{!l&&g.return!=null&&g.return()}finally{if(T)throw P}}return r.delete(s),h}try{return JSON.stringify(n(e,0),null,2)}catch{return String(e)}}});var U=u(v=>{"use strict";Object.defineProperty(v,"__esModule",{value:!0});Object.defineProperty(v,"sendMessageToNativeApp",{enumerable:!0,get:function(){return ne}});var te=p(),re=L();function ne(e){var t;(0,re.logMessage)(e),(0,te.isNativeApp)()&&((t=window.ReactNativeWebView)===null||t===void 0||t.postMessage(JSON.stringify(e)))}});var w=u(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});Object.defineProperty(S,"sendMessageResponse",{enumerable:!0,get:function(){return oe}});var se=U(),ie=p(),oe=function(e,t){if((0,ie.isNativeApp)()){(0,se.sendMessageToNativeApp)({name:"MESSAGE_FROM_WEBSITE_MODAL",sourceId:"react-native-app",message:t});return}if(!(!e.source||!e.origin)){var r=e.source;r.postMessage(t,e.origin)}}});var W=O(w()),E=O(p());var ae=(e,t)=>e&&t?`${e}/static/${t}`:"",ce="3cbb955b480454f547bd31b215075ef4f9cc8a34",R=ae("https://snippet.maze.co",ce),y="https://snippet.maze.co/lwt";var A=e=>(t,r={})=>{let n=e.createElement("script");n.src=r.version?`${t}?t=${r.version}`:t,n.async=r.async||!1,n.defer=r.defer||!1,e.getElementsByTagName("head")[0].appendChild(n)},N=e=>(t,r={})=>{let n=e.createElement("link");n.href=r.version?`${t}?t=${r.version}`:t,n.rel=r.rel||"preload",n.as=r.as||"script",e.getElementsByTagName("head")[0].appendChild(n)};var ue="maze-connected-check-request",pe="maze-connected-check-response",fe="maze-beacon-signal",M=!1;function V(e,t){M=!0;let r=$(e);A(t)(a.lwt,{version:r}),N(t)(a.lwtCommon,{version:r})}function D(e,t){e.addEventListener("message",r=>{r.data===ue&&(0,W.sendMessageResponse)(r,{type:pe,body:{apiKey:e.mazeUniversalSnippetApiKey}}),r.data===fe&&!M&&V(e,t)},{passive:!0})}var a={lwt:`${y}/lwtScaffold.js`,lwtCommon:`${y}/maze-lwt-ui-common.js`,contextual:`${R}/contextualScaffold.js`};function j(e){let r=new URL(e.location.href).searchParams.has("lwt"),n=!!e.sessionStorage?.getItem("maze:lwt-start");return(0,E.isNativeApp)()&&(n||r)?!0:!!e.opener&&(n||r)}var le=e=>{let t=!1,r=[],n=[];return j(e)?(M=!0,r.push(a.lwt),n.push(a.lwtCommon),t=!0):(r.push(a.contextual),t=!1),{mazeScripts:r,mazePreLoadScripts:n,useVersionTag:t}};function $(e){let t=e.sessionStorage.getItem("maze-us")||"";if(t)return t;t=`${new Date().getTime()}`;try{e.sessionStorage.setItem("maze-us",t)}catch{}return t}function k(e,t){let r=$(e);if((0,E.isNativeApp)()&&j(e)){V(e,t),D(e,t);return}let{mazeScripts:n,mazePreLoadScripts:s,useVersionTag:i}=le(e);n.forEach(function(o){A(t)(o,{version:i?r:void 0,async:!0})}),s.forEach(function(o){N(t)(o,{version:r})}),e.opener&&D(e,t)}k(window,document);})();
