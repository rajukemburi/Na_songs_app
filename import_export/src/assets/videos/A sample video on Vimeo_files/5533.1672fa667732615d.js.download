"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5533],{5533:function(e,t,n){n.r(t),n.d(t,{Toolbar:function(){return W}});var r=n(652983),a=n(863849),s=n.n(a),i=n(310124),o=n(394580),l=n(670296),c=n(205609),d=n(447218),u=n(204099),x=n(207556),h=n(597325),f=n(633723),p=n(397458);let b=(0,r.lazy)(()=>Promise.all([n.e(60782),n.e(3416),n.e(40584),n.e(96295),n.e(45253),n.e(34073),n.e(76089)]).then(n.bind(n,576089)));function g(){let e=(0,h.R)();return e?.isEnterpriseSite?(0,p.jsx)(p.Fragment,{}):e?.ribbonModifier&&"rainbow"!==e.ribbonModifier?(0,p.jsx)(r.Suspense,{fallback:(0,p.jsx)(f.u,{},"logged-in-mod-button"),children:(0,p.jsx)(b,{modState:e.ribbonModifier})}):(0,p.jsx)(f.u,{onClick:()=>{window.location.href=`/modworld/activate?last_page=${window.location.pathname}`}},"logged-out-mod-button")}var m=n(507558),j=n(446375),v=n(304834),w=n(95374),y=n(41792),k=n(939817),S=n(202958),C=n(15239),z=n(873794),R=n(325038),E=n(662555);let L="Change language",M=()=>{let{0:e,1:t}=(0,r.useState)(!1),n=(0,h.R)(),a=(0,w.pm)(),s=n.xsrft,i=e=>{(function({token:e,locale:t}){return fetch("/settings/set_locale",{method:"POST",credentials:"include",headers:{"content-type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({token:e,locale:t})})})({token:s,locale:e}).then(e=>{console.log(e),e.ok?window.location.reload():a({title:(0,E.Iu)({singular:"Sorry, something went wrong. Please try again.",dictionary:{es:{singular:"Lo sentimos, algo sali\xf3 mal. Int\xe9ntelo de nuevo."},"de-DE":{singular:"Es tut uns leid. Hier ist etwas schiefgelaufen. Bitte versuche es erneut."},"fr-FR":{singular:"Une erreur s'est produite. Veuillez r\xe9essayer."},"ja-JP":{singular:"申し訳ありません、エラーが発生しました。 再度お試しください。"},"ko-KR":{singular:"죄송합니다, 문제가 발생했습니다. 다시 시도해 주세요."},"pt-BR":{singular:"Desculpe, algo deu errado. Tente novamente."},"zh-CN":{singular:"抱歉，出错了。请重试。"}}}),variant:"warning"})})};return(0,p.jsxs)(y.v,{isOpen:e,placement:"top",children:[(0,p.jsx)(l.u,{placement:"top",label:L,children:(0,p.jsx)(k.j,{as:d.h,"aria-label":L,icon:(0,p.jsx)(R.M,{boxSize:"18px !important"}),variant:"tertiary",size:"xs",onClick:()=>t(!e)})}),(0,p.jsx)(S.q,{children:(0,p.jsx)(C._,{defaultValue:n.locale,type:"radio",onChange:e=>i(e),children:n.locales.map((e,t)=>(0,p.jsx)(z.i,{value:e,children:n.localeLabels[t]},e))})})]})};var _=n(280740);let I="Submit Feedback",F=()=>(0,p.jsx)(l.u,{placement:"top",label:I,children:(0,p.jsx)(d.h,{as:"a",target:"_blank",href:"https://vimean.atlassian.net/secure/CreateIssue.jspa?issuetype=7&pid=14422",size:"xs",variant:"tertiary",icon:(0,p.jsx)(_.o,{boxSize:"20px !important"}),"aria-label":I})});var N=n(844578),P=n(936771),J=n(972524);let O="Change theme",D=()=>{let{colorMode:e,setColorMode:t}=(0,N.If)(),{toggleTheme:n}=(0,r.useContext)(J.Ql);return(0,p.jsx)(l.u,{placement:"top",label:O,children:(0,p.jsx)(d.h,{size:"xs",variant:"tertiary",icon:(0,p.jsx)(P.J,{boxSize:"18px !important"}),"aria-label":O,onClick:()=>{let r="dark"===e?"light":"dark";n(r),t(r)}})})};function U({children:e}){let t=(0,h.R)();return t?.user?.capabilities?.canUseModWorld&&window.parent===window?(0,p.jsx)(p.Fragment,{children:e}):null}function W(){let e=(0,j.d)(),{0:t,1:n}=(0,r.useState)(!0);return!t||e?null:(0,p.jsx)(U,{children:(0,p.jsx)(T,{children:(0,p.jsxs)(q,{children:[(0,p.jsx)(g,{}),(0,p.jsx)(M,{}),(0,p.jsx)(D,{}),(0,p.jsx)(F,{}),(0,p.jsx)(B,{onClick:()=>n(!1)})]})})})}let q=({children:e})=>(0,p.jsx)(i.h,{children:(0,p.jsx)(s(),{bounds:"body",children:(0,p.jsxs)(o.k,{bgColor:"surface",borderWidth:"1px",borderColor:"stroke",pos:"fixed",borderRadius:"md",p:"xs",gap:"xs",w:"max-content",align:"center",left:{base:"0",sm:"calc(90% - 90px)"},bottom:{base:"50px",sm:"lg"},zIndex:"docked",children:[(0,p.jsx)(H,{}),e]})})}),B=({onClick:e})=>(0,p.jsx)(l.u,{placement:"top",label:(0,p.jsxs)(o.k,{direction:"column",align:"flex-start",gap:"xs",maxW:"250px",children:[(0,p.jsx)(c.x,{variant:"body-sm",children:"Hide toolbar for this session."}),(0,p.jsxs)(c.x,{variant:"body-sm",children:["Use ",(0,p.jsx)("strong",{children:"?vt=true/false"})," to enable/disable toolbar."]})]}),children:(0,p.jsx)(d.h,{"aria-label":"Close toolbar",icon:(0,p.jsx)(u.p,{}),variant:"tertiary",size:"xs",onClick:e})}),H=()=>(0,p.jsx)(d.h,{_hover:{cursor:"grab"},_active:{cursor:"grabbing"},"aria-label":"Drag Feedback Button",icon:(0,p.jsx)(x.M,{}),variant:"tertiary",size:"xs"}),T=({children:e})=>{let[t,n]=(0,v.Z)("vt",null),a=(0,m.f)("vt");return((0,r.useEffect)(()=>{null!==a&&n(a)},[n,a]),"false"===t||"false"===a)?null:(0,p.jsx)(p.Fragment,{children:e})}},446375:function(e,t,n){n.d(t,{d:function(){return s}});var r=n(837333),a=n(206867);let s=(e=!1)=>{let t=`screen and (max-width: ${r.rS.breakpoints.md})`;return t+=e?" and (orientation: portrait)":"",(0,a.y)(t)}},206867:function(e,t,n){n.d(t,{y:function(){return a}});var r=n(652983);let a=e=>{let{0:t,1:n}=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let t=e=>{n(e.matches)},r=window.matchMedia(e);return(n(r.matches),"function"==typeof r.addEventListener)?(r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}):"function"==typeof r.addListener?(r.addListener(t),()=>{r.removeListener(t)}):void 0},[]),t}},633723:function(e,t,n){n.d(t,{u:function(){return u}});var r=n(652983),a=n(751004),s=n(670296),i=n(447218),o=n(465543),l=n(639366),c=n(397458);let d={mod:"yellow.500",possessed:"red.500"},u=(0,r.forwardRef)(({modState:e,onClick:t},n)=>{let r="mod"===e||"possessed"===e?o.D:l.Y;return(0,c.jsx)(a.xu,{ref:n,children:(0,c.jsx)(s.u,{placement:"top",label:`Modtools${"possessed"===e?" (Possessed)":""}`,children:(0,c.jsx)(i.h,{"aria-label":"Modtools",icon:(0,c.jsx)(r,{color:e?d[e]:void 0}),variant:"tertiary",size:"xs",onClick:t})})})})},507558:function(e,t,n){n.d(t,{Z:function(){return i},f:function(){return r}});let r=e=>new URLSearchParams(window.location.search).get(e),a=e=>"true"===r(e),s=e=>{let t=r(e);if(t){if("false"===t){try{window.localStorage.removeItem(e)}catch(e){}return!1}try{window.localStorage.setItem(e,JSON.stringify(t))}catch(e){}return"true"===t}try{let t=window.localStorage.getItem(e);return!!t&&"true"===JSON.parse(t)}catch(e){}return!1},i=(e,t=!1)=>t?s(e):a(e)},597325:function(e,t,n){n.d(t,{R:function(){return s}});var r=n(652983),a=n(887877);function s(){return(0,r.useContext)(a.Z)}}}]);
//# sourceMappingURL=5533.1672fa667732615d.js.map