"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4401],{904401:function(e,t,r){r.d(t,{P:function(){return eL}});var n=r(652983),i=r(394580),o=r(767269),a=r(771534),s=r(331427),l=r(181633),u=r(447218),c=r(17259),d=r(662555),p=r(597325),g=r(706138),f=r(751004),O=r(205609),h=r(296295),b=r(487547),y=r(806273);let w={VIDEO_ID_MISSING:"VIDEO_ID_MISSING",FETCH_DL_LINKS_FAILED:"FETCH_DL_LINKS_FAILED",FETCH_CLIP_FAILED:"FETCH_CLIP_FAILED",FETCH_AUDIOTRACKS_FAILED:"FETCH_AUDIOTRACKS_FAILED",FETCH_CLIP_METADATA_FAILED:"FETCH_CLIP_METADATA_FAILED",VIDEO_VERSION_ID_MISSING:"VIDEO_VERSION_ID_MISSING",UI_NO_LINKS_TO_SHOW:"UI_NO_LINKS_TO_SHOW",UI_USED_FALLBACK_LINKS:"UI_USED_FALLBACK_LINKS",FAILED_VIDEO_TAGGING:"FAILED_VIDEO_TAGGING",AUDIOTRACK_MISSING_UPLOAD:"AUDIOTRACK_MISSING_UPLOAD"},m="downloads-modal",j={APP_TYPE:m,ALLOW_AUDIOTRACK_SELECTOR:null,IS_AB_TEST:null,USER_ID:null,USER_LOCALE:null,LOG_ERRORS_TRACKED:0,LOG_ERRORS_LIMIT:50,SESSION_ID:null,STARTED_AT:Date.now(),PAGE_NAME:null,MODAL_LOCATION:null,VIDEO_ID:null};function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(){return v(v({},I()),{},{pageLifeDuration:Date.now()-j.STARTED_AT,pageErrorsTracked:j.LOG_ERRORS_TRACKED,pageIsFocused:window.document.hasFocus(),screenWidth:window.screen.width,screenHeight:window.screen.height})}function I(){return{appType:j.APP_TYPE,pageSessionId:j.SESSION_ID,pageSessionLocale:j.USER_LOCALE,allowAudioTracksSelector:j.ALLOW_AUDIOTRACK_SELECTOR,isUserInAudioTrackSelectorTest:j.IS_AB_TEST,videoId:j.VIDEO_ID,modalLocation:j.MODAL_LOCATION}}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let S=location.host.endsWith("vimeo.com");function A(e,t){if(!(j.LOG_ERRORS_TRACKED<=j.LOG_ERRORS_LIMIT))return console.debug("Skipping error tracking, session facing limit");j.LOG_ERRORS_TRACKED+=1;let r=R(R({},t),E());S&&window.DD_RUM&&window.DD_RUM.onReady(()=>{console.debug("Sending Datadog report",{error:e,errorInfo:r,globals:window.DD_RUM.getUser()??null}),window.DD_RUM.addError(e,r)})}function P(e,t={}){try{let r=Object.assign({},t,E());S&&window.DD_RUM?window.DD_RUM.onReady(()=>{let t=window.DD_RUM.getUser()??null;console.debug("Sending Datadog action",{action:e,actionInfo:r,globals:t}),window.DD_RUM.addAction(e,r)}):console.debug("Got local Datadog action",{action:e,actionInfo:r,globals:null})}catch{}}function T(e){return{videoId:e}}function k({isLoading:e,hasValidResponse:t,apiError:r}){let i=(0,n.useRef)({mountedAt:Date.now()});return e&&void 0===i.current.startedAt&&(i.current.startedAt=Date.now(),i.current.delayToInitRequestMs=i.current.startedAt-i.current.mountedAt),e||!i.current.startedAt||i.current.completedAt||(i.current.completedAt=Date.now(),i.current.timeToFetchDataMs=i.current.completedAt-i.current.startedAt),i.current.timeToFetchDataMs&&(i.current.hasError=!!r,i.current.hasResponse=t),i}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let $="in_progress",U=["language","transcode","type","upload","uri","quota","provenance","active","download"];var N=r(336983);let F={PROCESS:"PRCS"},K=["serviceMode","status","targetLang","audiotrackUri","translationMode"];var M=r(536980);function x(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let G={downloadLinks:{onLinksRetryRendered:x(()=>P("DOWNLOAD_LINKS_RENDERED_RETRY_UI")),userRetriesGetLinks:e=>P("USER_RETRIES_GET_LINKS",e)},audioTrackSelector:{onSelectorUIRendered:x(()=>P("AUDIOTRACKS_SELECTOR_RENDERED_UI")),onSelectorRetryRendered:x(()=>P("AUDIOTRACKS_SELECTOR_RENDERED_RETRY_UI")),userSelectedAudioTrack:e=>P("USER_SELECTED_AUDIOTRACK",e),userRetriesGetAudiotracks:()=>P("USER_RETRIES_GET_AUDIOTRACKS"),userOpenAudiotracksPopover:x(()=>P("OPEN_AUDIOTRACKS_POPOVER")),userCloseAudiotracksPopover:x(()=>P("CLOSE_AUDIOTRACKS_POPOVER"))}};var V=r(12984),z=r(289849),B=r(590862),Z=r(785525),Y=r(397458);let H=({onRetry:e,isLoading:t})=>(0,Y.jsxs)(i.k,{justifyContent:"space-between",alignItems:"center",mt:"sm",gap:"md",flexDirection:"column",children:[(0,Y.jsx)(V.bZ,{status:"error",children:(0,Y.jsx)(z.X,{children:(0,d.Iu)({singular:"Unable to load content",dictionary:{es:{singular:"No se puede cargar el contenido"},"de-DE":{singular:"Inhalte k\xf6nnen nicht geladen werden"},"fr-FR":{singular:"Impossible de charger le contenu"},"ja-JP":{singular:"コンテンツを読み込めません"},"ko-KR":{singular:"콘텐츠 불러오기 실패"},"pt-BR":{singular:"N\xe3o foi poss\xedvel carregar o conte\xfado."},"zh-CN":{singular:"无法加载内容"}}})})}),(0,Y.jsx)(B.z,{isLoading:t,onClick:()=>{e()},size:"sm",variant:"primary",width:"100%",leftIcon:(0,Y.jsx)(Z.O,{}),children:(0,d.Iu)({singular:"Try again",dictionary:{es:{singular:"Intentar de nuevo"},"de-DE":{singular:"Nochmal versuchen"},"fr-FR":{singular:"Veuillez r\xe9essayer"},"ja-JP":{singular:"再試行してください"},"ko-KR":{singular:"다시 시도하세요"},"pt-BR":{singular:"Tente de novo"},"zh-CN":{singular:"再试一次"}}})})]}),J={main:(0,d.Iu)({singular:"dubbed audio",dictionary:{es:{singular:"audio doblado"},"de-DE":{singular:"synchronisiertes Audio"},"fr-FR":{singular:"Doublage audio"},"ja-JP":{singular:"吹き替え音声"},"ko-KR":{singular:"더빙된 오디오"},"pt-BR":{singular:"\xe1udio dublado"},"zh-CN":{singular:"配音音频"}}}),descriptive:(0,d.Iu)({singular:"audio description",dictionary:{es:{singular:"descripci\xf3n de audio"},"de-DE":{singular:"Audiobeschreibung"},"fr-FR":{singular:"Audiodescription"},"ja-JP":{singular:"音声説明"},"ko-KR":{singular:"오디오 설명"},"pt-BR":{singular:"audiodescri\xe7\xe3o"},"zh-CN":{singular:"音频描述"}}}),commentary:(0,d.Iu)({singular:"commentary",dictionary:{es:{singular:"comentarios"},"de-DE":{singular:"Kommentare"},"fr-FR":{singular:"commentaire"},"ja-JP":{singular:"コメンタリー/解説"},"ko-KR":{singular:"해설"},"pt-BR":{singular:"coment\xe1rios"},"zh-CN":{singular:"现场解说"}}}),ai_generated:(0,d.Iu)({singular:"AI generated",dictionary:{es:{singular:"Generado con IA"},"de-DE":{singular:"KI-generiert"},"fr-FR":{singular:"G\xe9n\xe9r\xe9 par l'IA"},"ja-JP":{singular:"AI生成"},"ko-KR":{singular:"인공지능(AI) 생성"},"pt-BR":{singular:"Gerado por IA"},"zh-CN":{singular:"（AI 生成）"}}})};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let W="VALUE_ORIGINAL_AUDIO_TRACK",Q={cursor:"not-allowed",opacity:.5,pointerEvents:"none"},X=({videoID:e,hasEditRights:t,setSelectedAudioTrack:r,selectedAudioTrack:i,hasVideoTranslations:o,versionId:a,videoLanguage:s})=>{let{languageCodeToNameMap:l}=function(){let{data:e}=(0,M.d3)({query:{filter:"audiotracks"},select:["code","name"]});return{languageCodeToNameMap:(0,n.useMemo)(()=>e?.data?.reduce((e,t)=>(e[t.code]=t.name,e),{})||{},[e])}}(),{keepPollingTranslations:u,translations:c}=function({videoId:e,hasVideoTranslations:t}){let{data:r,mutate:n,isLoading:i,isValidating:o}=(0,N.ef)(()=>e&&t?{where:T(e),select:K}:null),a=!!(r?.data&&r?.data.some(e=>"full_apply"===e.serviceMode&&e.status===F.PROCESS));return(0,y.X)(n,a,{interval:3e3,backoff:"linear",shouldResetBackoff:e=>e>5}),{translations:r?.data.filter(e=>"dubbing"===e.translationMode),keepPollingTranslations:a,isFetching:i||o}}({videoId:e,hasVideoTranslations:o}),{accessibleAudioTracks:p,isLoading:m,getAudioTracks:j,audioTracksError:_,fetchMetrics:v}=function({videoId:e,videoVersionId:t,keepPollingTranslations:r,translations:i,exclusiveAccess:o}){let{error:a,mutate:s,data:l,isLoading:u,isValidating:c}=(0,b.W3)(()=>t&&e?{where:C(C({},T(e)),{},{versionId:t}),select:U,headers:{Accept:"application/vnd.vimeo.*+json;version=3.4.10"}}:null,{refreshWhenHidden:!1,revalidateOnFocus:!1,shouldRetryOnError:!1}),d=l?.data,p=d?.length!==void 0,g=k({isLoading:u,apiError:a,hasValidResponse:p}),f=!!d?.some(e=>e.transcode?.status===$);(0,y.X)(s,f||r,{interval:1e4,backoff:"exponential",shouldResetBackoff:e=>e>5});let O=(0,n.useMemo)(()=>(d??[]).filter(e=>o||e.active).map(e=>{let{code:t}=e.language,r=i?.find(e=>e.targetLang===t&&"PRCS"===e.status),n=e.transcode?.status===$,o=e.upload?.status===$;return void 0===e.upload&&A(Error('Missing "upload" property in audio track.'),{uri:e.uri,method:"useClipAudioTracks",trackingTag:w.AUDIOTRACK_MISSING_UPLOAD}),C(C({},e),{},{disableReason:o?"uploading":n?"transcoding":r?"beingTranslated":void 0})}),[d,o,i]);return{alternateAudioTracks:d,accessibleAudioTracks:O,hasValidResponse:p,audioTracksError:a,getAudioTracks:s,isLoading:u,isValidating:c,fetchMetrics:g}}({videoId:e,videoVersionId:a,keepPollingTranslations:u,translations:c,exclusiveAccess:t}),E=(0,n.useCallback)(()=>{G.audioTrackSelector.userRetriesGetAudiotracks(),j()},[j]);(0,n.useEffect)(()=>{_&&A(_,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({videoID:e,hint:"Failed to fetch clip's alternate audio tracks.",method:"useGetVideoVersionAudiotracks",trackingTag:w.FETCH_AUDIOTRACKS_FAILED},v.current))},[_,v,e]);let I=(0,n.useMemo)(()=>p.map(e=>{let t=J[e.type]??e.type,r="ai_generated"===e.provenance,n=r?`(${J.ai_generated})`:"";return{label:[`${e.language.name}`,t,n].join(" "),value:e.uri,disableReason:e.disableReason,isAIGenerated:r,isOriginalAudio:!1}}).sort((e,t)=>e.label.localeCompare(t.label)),[p]),D=s&&l?l[s]:s,R=(0,n.useMemo)(()=>[{label:D?`${D} (${(0,d.Iu)({singular:"original",dictionary:{es:{singular:"Original"},"de-DE":{singular:"Original"},"fr-FR":{singular:"Original"},"ja-JP":{singular:"オリジナルサイズ"},"ko-KR":{singular:"오리지널"},"pt-BR":{singular:"Original"},"zh-CN":{singular:"原创"}}})})`:(0,d.Iu)({singular:"Original audio track",dictionary:{es:{singular:"Pista de audio original"},"de-DE":{singular:"Originale Audiospur"},"fr-FR":{singular:"Piste audio originale"},"ja-JP":{singular:"オリジナルオーディオトラック"},"ko-KR":{singular:"원본 오디오 트랙"},"pt-BR":{singular:"Faixa de \xe1udio original"},"zh-CN":{singular:"原始音频轨道"}}}),value:W,isAIGenerated:!1,isOriginalAudio:!0}].concat(I),[I,D]),S=(0,n.useCallback)(e=>{let t=e.value[0],n=R.find(e=>e.value===t);r({value:t,label:n?.label??t,isAIGenerated:!!n?.isAIGenerated,isOriginalAudio:!!n?.isOriginalAudio})},[R,r]),P=(0,n.useCallback)(({open:e})=>{e?G.audioTrackSelector.userOpenAudiotracksPopover():G.audioTrackSelector.userCloseAudiotracksPopover()},[]);return 0!==I.length||_?(_?G.audioTrackSelector.onSelectorRetryRendered():G.audioTrackSelector.onSelectorUIRendered(),(0,Y.jsxs)(f.xu,{children:[(0,Y.jsx)(O.x,{variant:"heading-xs",mb:"md",children:(0,d.Iu)({singular:"Audio language",dictionary:{es:{singular:"Idioma del audio"},"de-DE":{singular:"Audiosprache"},"fr-FR":{singular:"Langue audio"},"ja-JP":{singular:"オーディオ言語"},"ko-KR":{singular:"오디오 언어"},"pt-BR":{singular:"Idioma do \xe1udio"},"zh-CN":{singular:"音频语言"}}})}),(0,Y.jsx)(h.Ph,{value:i?[i]:void 0,items:R,disabled:m,placeholder:(0,d.Iu)({singular:"Original audio track",dictionary:{es:{singular:"Pista de audio original"},"de-DE":{singular:"Originale Audiospur"},"fr-FR":{singular:"Piste audio originale"},"ja-JP":{singular:"オリジナルオーディオトラック"},"ko-KR":{singular:"원본 오디오 트랙"},"pt-BR":{singular:"Faixa de \xe1udio original"},"zh-CN":{singular:"原始音频轨道"}}}),size:"md",onValueChange:S,highlightedValue:i,onOpenChange:P,children:e=>(0,Y.jsx)(h.Ql,{mt:"sm",display:"flex",gap:"sm",alignItems:"center",sx:e.disableReason?Q:void 0,children:(0,Y.jsx)(h.S_,{children:e.label})})}),_&&(0,Y.jsx)(H,{onRetry:E})]})):null};var ee=r(945368);let et=()=>(0,Y.jsx)(V.bZ,{status:"warning",mb:"md",children:(0,Y.jsx)(z.X,{children:(0,d.Iu)({singular:"Downloaded videos are not protected by digital rights management (DRM). {LINK}Learn more{/LINK}",replacements:{LINK:e=>(0,Y.jsx)(ee.r,{title:(0,d.Iu)({singular:"Learn more",dictionary:{es:{singular:"Ver m\xe1s"},"de-DE":{singular:"Mehr dazu"},"fr-FR":{singular:"En savoir plus "},"ja-JP":{singular:"詳細を見る"},"ko-KR":{singular:"자세히 보기"},"pt-BR":{singular:"Saiba mais"},"zh-CN":{singular:"了解更多"}}}),target:"_blank",href:"https://vimeo.com/help/zendesk_sso?redirect_to=https://help.vimeo.com/hc/en-us/articles/31622243101969",children:e},"learn-more-link")},dictionary:{es:{singular:"Los videos descargados no est\xe1n protegidos por la gesti\xf3n de derechos digitales (DRM). {LINK}M\xe1s informaci\xf3n{/LINK}"},"de-DE":{singular:"Heruntergeladene Videos sind nicht durch Digital Rights Management (DRM) gesch\xfctzt. {LINK}Mehr erfahren{/LINK}"},"fr-FR":{singular:"Les vid\xe9os t\xe9l\xe9charg\xe9es ne sont pas prot\xe9g\xe9es par la gestion des droits num\xe9riques (DRM). {LINK}En savoir plus{/LINK}"},"ja-JP":{singular:"ダウンロードした動画はデジタル著作権管理（DRM）によって保護されていません。{LINK}詳細はこちら{/LINK}"},"ko-KR":{singular:"다운로드한 동영상은 디지털 저작권 관리(DRM)로 보호되지 않습니다. {LINK}자세히 보기{/LINK}"},"pt-BR":{singular:"Os v\xeddeos baixados n\xe3o s\xe3o protegidos pelo gerenciamento de direitos digitais (DRM). {LINK}Saiba mais{/LINK}"},"zh-CN":{singular:"下载的视频不受数字版权管理 (DRM) 保护。{LINK}了解更多{/LINK}"}}})})});var er=r(316356),en=r(27892);function ei(e){return e.split("/").pop()}let eo=["language","usesDrm","metadata.interactions.translations","metadata.interactions.edit.uri","metadata.connections.versions.currentUri","metadata.connections.versions.latestIncompleteVersion","user.uri"];var ea=r(997941),es=r(826039);function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let ec=["download.height","download.link","download.quality","download.rendition","download.type","download.width","download.sizeShort","download.publicName","download.videoFileId"];var ed=r(363145),ep=r(408262);class eg extends Error{constructor(e,t="General error."){let r,n=["Video tagging error.",t];if(e instanceof eg)n=[e.message],r=e;else if(e instanceof Error)n.push(e.message),r=e;else if("object"==typeof e)try{n.push(JSON.stringify(e,null,2))}catch{}else"string"==typeof e&&n.push(e);super(n.join(" "),{cause:r}),(0,g.Z)(this,"_data",void 0),this._data=e,this.name=this.constructor.name}get data(){return this._data}}let ef=async(e,t,r,n,i)=>{let o=await fetch(`//${t}/videos/${e}/tag_job`,{method:"POST",headers:{Authorization:`jwt ${r}`,"Content-Type":"application/json"},body:JSON.stringify({flow:i,video_file_id:n})});if(o.ok){let e=await o.json();return(0,ep.uo)(e)}{let e=(await o.json()).catch(()=>({empty:!0}));throw e.status=o.status,new eg(e,"Bad response.")}},eO=async(e,t,r,n,i)=>{let o=await fetch(`//${t}/videos/${e}/tag_job/${n}?filename=${i}`,{method:"GET",headers:{Authorization:`jwt ${r}`}});if(o.ok){let e=await o.json();return(0,ep.uo)(e)}{let e=(await o.json()).catch(()=>({empty:!0}));throw e.status=o.status,new eg(e,"Bad response.")}};function eh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ey=r(992872),ew=r(887877),em=r(61593),ej=r(329806),e_=r(490055),ev=r(695426),eE=r(737447),eI=r(60266),eD=r(841433),eR=r(724515);function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let eP=e=>e&&e.ownerId!==e.userId?"Admin"===e.plainTextPermissionLevel?"admin":"Contributor"===e.plainTextPermissionLevel?"contributor":"ContributorPlus"===e.plainTextPermissionLevel?"contributor_plus":"Viewer"===e.plainTextPermissionLevel?"viewer":null:"owner",eT=(e,t,r,n,i,o,a,s)=>{let l=(0,ej.kD)({action_type:"click",feature:null}),u=(0,e_.Qt)({video_id:e,video_owner_id:o?.ownerId??null}),c=(0,ev.FI)({product:"distribution",feature:"download",location:"modal",modal_name:"download_modal",flow:"download_video_file",element:"button",is_user_facing_data:!1,entity_type:"video",copy:null,device_type:(0,em.Z)()}),d=(0,eE.lg)({is_integration:!1,integration_id:null,integration_name:null,managed_user_id:null,app_id:null,integration_type:null,partner_bucket:null,is_partner:null}),p=(0,eI.g9)({page_name:i??"viewer_home",referrer_page_name:"svv"===s?"single_video_view":null,target:null,target_path:null,path:a??null,copy:"Download"}),g=eP(o),f=(0,eD.UW)({is_team_member:!!o?.ownerId,team_owner_id:o?.ownerId??null,team_id:o?.teamId??null,team_subscription_type:o?.accountType??null,team_size:o?.currentTeamSize??null,team_role:g}),O=eA(eA(eA(eA(eA(eA({},l),u),c),f),d),p),h={distribution_type:"download",target_quality:t,target_resolution:r,target_file_details:null,number_of_items:1,embed_config:null,embed_custom_dimensions:null,is_internal:!1,target_transcript_language:null,audio_language_selected_for_download:n.label,is_ai_translated:n.isAIGenerated,is_original_language_downloaded:n.isOriginalAudio,collection_type:null,distribution_tab:null,embed_layout:null,embed_playback_toggles_off:null,embed_playback_toggles_on:null,is_send_email_notification:null,lms_completion_threshold:null,lms_scoring_method:null,lms_technical_standard:null,sharee_email:null,sharee_entity_permission:null,sharee_id:null,sharee_team_permission:null};(0,eR.Ou)("vimeo.distribute_content",O,18,h)};function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}let eL=({files:e,handleClick:t,videoID:r,versionUri:f,clipRequestId:O,location:h,className:b,pageName:y,usesDrm:_,audioTracksSelector:v=!0,reviewId:E})=>{let{0:D,1:R}=(0,n.useState)({value:W,label:W,isAIGenerated:!1,isOriginalAudio:!0}),S=D.value,P=(0,n.useMemo)(()=>(0,es.x)(e),[e]),{0:L,1:C}=(0,n.useState)(!1),$=O??(r?`${r}`:void 0),U=(0,n.useMemo)(()=>f?Number(ei(f)):void 0,[f]),N=(0,p.R)(),F=v&&!!N?.user&&!E,{usesDrm:K,mostRecentVersion:M,isFetching:x,hasVideoTranslations:V,videoLanguage:z,clipMetadataError:B,canEdit:Z}=function({videoId:e,disabled:t}){let r=(0,p.R)(),{data:i,error:o,isLoading:a,isValidating:s}=(0,en.rw)(()=>!e||t?null:{where:T(e),select:eo,headers:{Accept:"application/vnd.vimeo.*+json;version=3.4.10"}}),l=!!i?.metadata?.interactions?.translations?.uri,u=!!i?.metadata?.interactions?.edit?.uri,c=i?.metadata?.connections?.versions?.currentUri,d=i?.metadata?.connections?.versions??[],g=(0,n.useMemo)(()=>i?.metadata?.connections?.versions?.currentUri?Number(ei(i?.metadata.connections.versions.currentUri)):void 0,[i?.metadata?.connections?.versions?.currentUri]),f=i?.user?.uri,O=!!(f&&f===r?.user?.uri);return{hasVideoTranslations:l,mostRecentVersion:g&&g>=0?g:void 0,currentVideoUri:c,allVideoVersions:d,isFetching:a||s,videoLanguage:i?.language,usesDrm:i?.usesDrm,clipMetadataError:o,canEdit:O||u}}({disabled:!F,videoId:$}),J=U??M,q=!x&&void 0===J;!function({appType:e,modalLocation:t=null,pageName:r=null,userId:i=null,userLocale:o=null,videoId:a=null,allowAudioTracksSelector:s=null,isUserInAudioTrackSelectorTest:l=null},u=!0){(0,n.useEffect)(()=>{if(!function(e){for(let t in e)j[t]=e[t]}({APP_TYPE:e,USER_ID:i,USER_LOCALE:o,MODAL_LOCATION:t,PAGE_NAME:r,VIDEO_ID:a,ALLOW_AUDIOTRACK_SELECTOR:s,IS_AB_TEST:l}),u){var n;n=I(),window.DD_RUM&&window.DD_RUM.onReady(()=>{for(let e in n)window.DD_RUM.setViewContextProperty(e,String(n[e]))})}},[e,u,t,r,i,o,a,s,l])}({appType:m,userId:N?.user?.id,userLocale:N?.locale,modalLocation:h??y,videoId:$,allowAudioTracksSelector:F,pageName:y},!1);let Q=S===W,ee=Q?void 0:S,{onDownloadClick:el,loadingButtons:ep}=function({location:e,pageName:t,handleClick:r,videoID:i,audiotrackUri:o}){let{0:a,1:s}=(0,n.useState)([]),{shouldTagVideo:l,tagVideo:u}=function(){let{0:e,1:t}=(0,n.useState)({}),r=(0,n.useCallback)((n,i,o,a,s,l)=>new Promise((u,c)=>{let d=null;eO(n,i,o,a,s).then(p=>{"success"===p.status&&p.downloadUrl?(t(eb(eb({},e),{},{[l]:p.downloadUrl})),d&&clearTimeout(d),u(p.downloadUrl)):"failed"===p.status?c(new eg(p,'Received status is "failed".')):d=setTimeout(()=>r(n,i,o,a,s,l).then(e=>u(e)).catch(e=>c(e)),500)}).catch(e=>c(new eg(e,"Failed to fetch tagging job status.")))}),[e]);return{shouldTagVideo:(e,t)=>"svv"===t&&e.size&&e.size<=104857600,tagVideo:(0,n.useCallback)((n,i,o,a,s)=>new Promise((l,u)=>{let c=e[a];c?l(c):ef(o,n,i,a,s).then(s=>{"failed"===s.status&&u(new eg(s,'Received status is "failed".')),s.downloadUrl?(t(eb(eb({},e),{},{[a]:s.downloadUrl})),l(s.downloadUrl)):r(o,n,i,s.id,s.filename,a).then(e=>l(e)).catch(e=>u(new eg(e,"Failed to fetch job status.")))}).catch(e=>u(new eg(e,"Failed to trigger tagging job.")))}),[r,e])}}(),c=(0,n.useContext)(ew.Z),d=(0,ed.useRouter)().asPath;return{onDownloadClick:(0,n.useCallback)((n,p)=>g=>{eT(i??0,n.quality,n.rendition,p,t,c?.teamUser,d,e),r&&r(n),c?.apiUrl&&c?.jwt&&e&&i&&!o&&l(n,e)&&(g.preventDefault(),s([...a,n.link]),u(c.apiUrl,c.jwt,i,n.videoFileId?.toString()??"").then(e=>{e?(0,ey.S)(e):(0,ey.S)(`${n.link}`),s([...a.filter(e=>e!==n.link)])}).catch(e=>{A(e,{videoID:i,audiotrackUri:o,hint:"Failed to complete video-tagging job.",trackingTag:w.FAILED_VIDEO_TAGGING}),(0,ey.S)(`${n.link}`),s([...a.filter(e=>e!==n.link)])}))},[o,r,a,e,t,d,l,u,i,c?.apiUrl,c?.jwt,c?.teamUser]),loadingButtons:a}}({location:h,pageName:y,handleClick:t,videoID:r,audiotrackUri:ee,allowAudioTracksSelector:F}),{downloadableFiles:eh,getVideoFiles:em,isValidating:ej,isLoading:e_,videoFilesError:ev}=function({videoId:e,disabled:t}){let{error:r,mutate:i,data:o,isLoading:a,isValidating:s}=(0,en.rw)(()=>!e||t?null:{where:T(e),select:ec,headers:{Accept:"application/vnd.vimeo.*+json;version=3.4.1"}},{refreshWhenHidden:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});return{downloadableFiles:(0,n.useMemo)(()=>(0,es.x)(o?.download??[]),[o?.download]),videoFilesError:r,getVideoFiles:i,isLoading:a,isValidating:s,isFetching:a||s}}({videoId:$,disabled:!F}),{downloadableFiles:eE,downloadsError:eI,getDownloads:eD,isDownloadsValidating:eR,isDownloadsLoading:eS,fetchMetrics:eA}=function({videoId:e,versionId:t,disabled:r,audiotrackUri:i}){let{error:o,mutate:a,data:s,isLoading:l,isValidating:u}=(0,ea.H)(()=>{if(!e||!t||r)return null;let n=i?.split("/").pop();return{where:eu(eu({},T(e)),{},{versionId:t}),headers:{Accept:"application/vnd.vimeo.*+json;version=3.4.10"},query:{audiotrackId:n}}},{keepPreviousData:!0,refreshWhenHidden:!1,revalidateOnFocus:!1,shouldRetryOnError:!1}),c="object"==typeof s&&null!==s&&Array.isArray(s.download),d=k({isLoading:l,apiError:o,hasValidResponse:c});return{downloadableFiles:(0,n.useMemo)(()=>c?(0,es.x)(s.download,{allowDownloadOriginal:!i}):[],[i,s,c]),downloadsError:o,getDownloads:a,isDownloadsLoading:l,isDownloadsValidating:u,hasValidResponse:c,fetchMetrics:d}}({versionId:J,videoId:$,disabled:!F,audiotrackUri:ee});(0,n.useEffect)(()=>{ee&&eD()},[ee,eD]);let eP=Q&&!ev&&!e_,eL=(0,n.useMemo)(()=>Q?eP?eh:P:null,[eP,Q,eh,P]),eC=eS||e_||x,e$=(0,n.useMemo)(()=>F?eC&&eL?{files:eL}:eC?{isLoading:!0,files:[]}:(q||eI)&&eL?{files:eL,isFallback:!0}:{files:eE}:{files:P},[eC,F,P,q,eI,eL,eE]),eU=e$.files,eN=e$.isFallback,eF=0===eU.length&&!e$.isLoading;!function({versionIsMissing:e,clipMetadataError:t,videoFilesError:r,downloadsError:i,videoID:o,versionId:a,selectedAudioTrack:s,isFallbackLinksUsed:l,isNoLinksToShow:u,allowAudioTracksSelector:c,downloadableFilesFetchMetrics:d}){(0,n.useEffect)(()=>{if(c&&!o){let e="Video ID is missing.";A(Error(e),{versionId:a,videoID:o,hint:e,trackingTag:w.VIDEO_ID_MISSING})}},[o,a,c]),(0,n.useEffect)(()=>{if(i){let e=s.split("/").pop();A(i,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(t){(0,g.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({videoID:o,versionId:a,selectedAudioTrack:s,trackId:e,hint:"Failed to fetch DL links for video and audio-track.",method:"useGetVideoVersionDownloads",trackingTag:w.FETCH_DL_LINKS_FAILED},d))}},[s,i,o,a,d]),(0,n.useEffect)(()=>{r&&A(r,{videoID:o,hint:"Failed to fetch main DL links for video.",method:"useGetVideo",trackingTag:w.FETCH_CLIP_FAILED})},[r,o]),(0,n.useEffect)(()=>{c&&t&&A(t,{versionId:a,videoID:o,hint:"Failed to fetch clip's metadata.",method:"useGetVideoMetadata",trackingTag:w.FETCH_CLIP_METADATA_FAILED})},[c,t,a,o]),(0,n.useEffect)(()=>{if(c&&e){let t="Version ID is missing.";A(Error(t),{versionIsMissing:e,videoID:o,hint:t,trackingTag:w.VIDEO_VERSION_ID_MISSING})}},[c,e,o]),(0,n.useEffect)(()=>{c&&(u||l)&&A(Error(u?"No download links to show.":"Used fallback links."),{videoID:o,versionId:a,isNoLinksToShow:u,isFallbackLinksUsed:l,selectedAudioTrack:s,trackingTag:u?w.UI_NO_LINKS_TO_SHOW:w.UI_USED_FALLBACK_LINKS})},[c,u,a,o,s,l])}({versionIsMissing:q,clipMetadataError:B,videoFilesError:ev,downloadsError:eI,videoID:$,versionId:J,selectedAudioTrack:S,isFallbackLinksUsed:eN,isNoLinksToShow:eF,allowAudioTracksSelector:F,downloadableFilesFetchMetrics:eA});let eK=(0,n.useCallback)(()=>{R({value:W,label:W,isAIGenerated:!1,isOriginalAudio:!0})},[]),eM=(0,n.useCallback)(()=>{em(),eD()},[eD,em]),ex=(0,n.useCallback)(()=>{L&&ee?eK():(eM(),C(!0)),G.downloadLinks.userRetriesGetLinks({audiotrackUri:ee})},[ee,eK,eM,L]),eG=(0,n.useCallback)(e=>{G.audioTrackSelector.userSelectedAudioTrack(e),R(e)},[]),eV=F&&eF&&eI;return(0,n.useEffect)(()=>{eV&&G.downloadLinks.onLinksRetryRendered()},[eV]),(0,Y.jsxs)(Y.Fragment,{children:[(K||_)&&(0,Y.jsx)(et,{}),(0,Y.jsxs)(i.k,{gap:"1.75rem",direction:"column",className:b,minHeight:F?(0,o.h)(300):void 0,children:[F&&(0,Y.jsx)(X,{videoID:$,setSelectedAudioTrack:eG,selectedAudioTrack:S,versionId:J,videoLanguage:z,hasVideoTranslations:V,hasEditRights:Z}),eV&&(0,Y.jsx)(H,{isLoading:eR||ej,onRetry:ex}),e$.isLoading&&(0,Y.jsx)(a.M,{w:"100%",h:"100%",margin:"auto",children:(0,Y.jsx)(s.$,{size:"md"})}),eF&&!eI?(0,Y.jsx)(er.w,{}):eU.map(e=>(0,Y.jsxs)(i.k,{align:"center",justify:"space-between",id:`download-file-${e.link}`,children:[(0,Y.jsxs)(i.k,{gap:"0.75rem",align:"center",children:[(0,Y.jsx)(l.n,{size:"lg",fontWeight:"500",minW:"3.13rem",children:"source"===e.quality?(0,d.Iu)({singular:"Original",dictionary:{"ja-JP":{singular:"オリジナルサイズ"},"ko-KR":{singular:"오리지널"},"zh-CN":{singular:"原创"}}}):e.publicName}),(0,Y.jsxs)(i.k,{gap:"xs",children:[(0,Y.jsx)(l.n,{size:"sm",color:"text-secondary",children:e.sizeShort}),(0,Y.jsx)(l.n,{size:"sm",color:"text-secondary",children:"|"}),(0,Y.jsxs)(l.n,{size:"sm",color:"text-secondary",children:[e.width," x ",e.height]})]})]}),(0,Y.jsx)(u.h,{"aria-label":(0,d.Iu)({singular:"Download",dictionary:{es:{singular:"Descargar"},"de-DE":{singular:"Herunterladen"},"fr-FR":{singular:"T\xe9l\xe9charger "},"ja-JP":{singular:"ダウンロード"},"ko-KR":{singular:"다운로드"},"pt-BR":{singular:"Baixar"},"zh-CN":{singular:"下载"}}}),as:"a",href:`${e.link}`,variant:"secondary",icon:(0,Y.jsx)(c.n,{}),isDisabled:e$.isLoading,isLoading:-1!==ep.indexOf(e.link),onClick:el(e,D)})]},`${S}-${e.link}`))]})]})}},316356:function(e,t,r){r.d(t,{w:function(){return u}});var n=r(112756),i=r(181633),o=r(810464),a=r(590862),s=r(662555),l=r(397458);let u=({closeModal:e})=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.x,{pt:"3xl",pr:"lg",pb:"lg",pl:"lg",textAlign:"center",children:(0,l.jsx)(i.n,{size:"lg",children:(0,s.Iu)({singular:"Your downloads are still processing...",dictionary:{es:{singular:"Sus descargas a\xfan se est\xe1n procesando..."},"de-DE":{singular:"Deine Downloads werden noch bearbeitet..."},"fr-FR":{singular:"Vos t\xe9l\xe9chargements sont encore en cours de traitement…"},"ja-JP":{singular:"ダウンロードを処理しています..."},"ko-KR":{singular:"다운로드가 아직 진행 중입니다..."},"pt-BR":{singular:"Seus downloads ainda est\xe3o sendo processados..."},"zh-CN":{singular:"您的下载仍在处理中..."}}})})}),e&&(0,l.jsx)(o.m,{border:"none",py:"sm",px:"lg",children:(0,l.jsx)(a.z,{onClick:e,children:(0,s.Iu)({singular:"OK",dictionary:{es:{singular:"Aceptar"},"ko-KR":{singular:"확인"},"zh-CN":{singular:"确定"}}})})})]})},826039:function(e,t,r){r.d(t,{x:function(){return n}});let n=(e,t={allowDownloadOriginal:!0})=>{let r=["hd","sd","uhd"].concat(t.allowDownloadOriginal?["source"]:[]);return e.filter(e=>r.includes(e.quality)).sort((e,t)=>"source"===e.quality?-1:t.height-e.height)}},844985:function(e,t,r){r.d(t,{R7:function(){return p},_i:function(){return d},bj:function(){return g}});var n=r(706138),i=r(846211),o=r(727926);let a=["baseUrl","select","where","query"],s=["baseUrl","variables","where"],l=["baseUrl","variables","where"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function d(e){let{baseUrl:t,select:r,where:{videoId:n},query:s}=e,l=(0,i.Z)(e,a),u=await fetch(`${t}/videos/${n}/translations?${(0,o.Ov)(s)}&fields=${r.map(o.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new o.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,o.l_)(d)}async function p(e){let{baseUrl:t,variables:r,where:{videoId:n}}=e,a=(0,i.Z)(e,s),l=await fetch(`${t}/videos/${n}/translations`,c(c({},a),{},{method:"POST",body:JSON.stringify((0,o.mH)(r))}));if(!l.ok)throw new o.F7("A network error occurred",l.status,l);if(204===l.status)return null;if(!l.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let u=await l.json();return(0,o.l_)(u)}async function g(e){let{baseUrl:t,variables:r,where:{videoId:n}}=e,a=(0,i.Z)(e,l),s=await fetch(`${t}/videos/${n}/translations`,c(c({},a),{},{method:"DELETE",body:JSON.stringify((0,o.mH)(r))}));if(!s.ok)throw new o.F7("A network error occurred",s.status,s);if(204===s.status)return null;if(!s.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let u=await s.json();return(0,o.l_)(u)}},536980:function(e,t,r){r.d(t,{d3:function(){return w}});var n=r(846211),i=r(706138),o=r(727926);let a=["baseUrl","select","query"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function u(e){let{baseUrl:t,select:r,query:i}=e,s=(0,n.Z)(e,a),u=await fetch(`${t}/languages?${(0,o.Ov)(i)}&fields=${r.map(o.Rb).join(",")}`,l(l({},s),{},{method:"GET"}));if(!u.ok)throw new o.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let c=await u.json();return(0,o.l_)(c)}var c=r(296638),d=r(750042),p=r(652983),g=r(512959),f=r(458388),O=r(173656);let h=["perPage","page"];function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:i,xVimeoPage:o,locale:a}=(0,f.r)();return(0,c.ZP)(r?`/languages${(0,d.Y$)(r)}`:()=>null,r?()=>u(y(y({},r),{},{headers:y(y({},r.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${o}`,"Accept-Language":a??"en"}),baseUrl:n})):null,t)}"true"===O.env.STORYBOOK&&(0,d.MR)(w,{endpoint:"/languages",method:"GET"}),"true"===O.env.STORYBOOK&&(0,d.MR)(function(){let{mutate:e}=(0,c.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:i}=(0,f.r)(),[o,a]=(0,d.AC)();return[(0,p.useCallback)(async o=>{a({type:"REQUEST"});try{let s=await e(`/languages${(0,d.Y$)(o)}`,u(y(y({},o),{},{baseUrl:t,headers:y(y({},o.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":i??"en"})})));a({type:"SUCCESS",payload:s})}catch(e){a({type:"FAILURE",payload:e})}},[t,n,r,i,a]),o]},{endpoint:"/languages",method:"GET"}),"true"===O.env.STORYBOOK&&(0,d.MR)(function(e,t){let r="function"==typeof e?e():e,{baseUrl:i,jwt:o,xVimeoPage:a,locale:s}=(0,f.r)();return(0,g.ZP)((e,t)=>{if(null===r||t&&!t.paging.next)return null;let i=r.query??{},{perPage:o=25,page:a}=i,s=(0,n.Z)(i,h),l=r.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/languages?page=${e+1}&perPage=${o}&fields=${l}&${u}`,e]},null!==r?([e,t])=>u(y(y({},r),{},{baseUrl:i,headers:y(y({},r.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),query:y(y({},r.query),{},{page:t+1})})):null,t)},{endpoint:"/languages",method:"GET"})},336983:function(e,t,r){r.d(t,{Ni:function(){return h},ef:function(){return O}});var n=r(846211),i=r(706138),o=r(750042),a=r(844985),s=r(652983),l=r(296638),u=r(512959),c=r(458388),d=r(173656);let p=["perPage","page"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:i,xVimeoPage:s,locale:u}=(0,c.r)();return(0,l.ZP)(r?`/videos/${r.where.videoId}/translations${(0,o.Y$)(r)}`:()=>null,r?()=>(0,a._i)(f(f({},r),{},{headers:f(f({},r.headers),{},{"Content-Type":"application/json",Authorization:i?`jwt ${i}`:"","Vimeo-Page":`${s}`,"Accept-Language":u??"en"}),baseUrl:n})):null,t)}function h(){let{baseUrl:e,jwt:t,xVimeoPage:r,locale:n}=(0,c.r)(),[i,l]=(0,o.AC)();return[(0,s.useCallback)(async i=>{l({type:"REQUEST"});try{let o=await (0,a.bj)(f(f({},i),{},{baseUrl:e,headers:f(f({},i.headers),{},{"Content-Type":"application/json",Authorization:t?`jwt ${t}`:"","Vimeo-Page":`${r}`,"Accept-Language":n??"en"})}));l({type:"SUCCESS",payload:o})}catch(e){l({type:"FAILURE",payload:e})}},[e,r,t,n,l]),i]}"true"===d.env.STORYBOOK&&(0,o.MR)(O,{endpoint:"/videos/:videoId/translations",method:"GET"}),"true"===d.env.STORYBOOK&&(0,o.MR)(function(){let{mutate:e}=(0,l.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:i}=(0,c.r)(),[u,d]=(0,o.AC)();return[(0,s.useCallback)(async s=>{d({type:"REQUEST"});try{let l=await e(`/videos/${s.where.videoId}/translations${(0,o.Y$)(s)}`,(0,a._i)(f(f({},s),{},{baseUrl:t,headers:f(f({},s.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":i??"en"})})));d({type:"SUCCESS",payload:l})}catch(e){d({type:"FAILURE",payload:e})}},[t,n,r,i,d]),u]},{endpoint:"/videos/:videoId/translations",method:"GET"}),"true"===d.env.STORYBOOK&&(0,o.MR)(function(e,t){let r="function"==typeof e?e():e,{baseUrl:i,jwt:o,xVimeoPage:s,locale:l}=(0,c.r)();return(0,u.ZP)((e,t)=>{if(null===r||t&&!t.paging.next)return null;let i=r.query??{},{perPage:o=25,page:a}=i,s=(0,n.Z)(i,p),l=r.select.join(","),u=Object.entries(s??{}).filter(([,e])=>void 0!==e).map(([e,t])=>`${e}=${t}`).join("&");return[`/videos/${r.where.videoId}/translations?page=${e+1}&perPage=${o}&fields=${l}&${u}`,e]},null!==r?([e,t])=>(0,a._i)(f(f({},r),{},{baseUrl:i,headers:f(f({},r.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${s}`,"Accept-Language":l??"en"}),query:f(f({},r.query),{},{page:t+1})})):null,t)},{endpoint:"/videos/:videoId/translations",method:"GET"}),"true"===d.env.STORYBOOK&&(0,o.MR)(function(){let{baseUrl:e,jwt:t,xVimeoPage:r,locale:n}=(0,c.r)(),[i,l]=(0,o.AC)();return[(0,s.useCallback)(async i=>{l({type:"REQUEST"});try{let o=await (0,a.R7)(f(f({},i),{},{baseUrl:e,headers:f(f({},i.headers),{},{"Content-Type":"application/json",Authorization:t?`jwt ${t}`:"","Vimeo-Page":`${r}`,"Accept-Language":n??"en"})}));l({type:"SUCCESS",payload:o})}catch(e){l({type:"FAILURE",payload:e})}},[e,r,t,n,l]),i]},{endpoint:"/videos/:videoId/translations",method:"POST"}),"true"===d.env.STORYBOOK&&(0,o.MR)(h,{endpoint:"/videos/:videoId/translations",method:"DELETE"})},487547:function(e,t,r){r.d(t,{W3:function(){return w}});var n=r(706138),i=r(750042),o=r(846211),a=r(727926);let s=["baseUrl","select","where"],l=["baseUrl","select","variables","where"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}async function d(e){let{baseUrl:t,select:r,where:{videoId:n,versionId:i}}=e,l=(0,o.Z)(e,s),u=await fetch(`${t}/videos/${n}/versions/${i}/audiotracks?fields=${r.map(a.Rb).join(",")}`,c(c({},l),{},{method:"GET"}));if(!u.ok)throw new a.F7("A network error occurred",u.status,u);if(204===u.status)return null;if(!u.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let d=await u.json();return(0,a.l_)(d)}async function p(e){let{baseUrl:t,select:r,variables:n,where:{videoId:i,versionId:s}}=e,u=(0,o.Z)(e,l),d=await fetch(`${t}/videos/${i}/versions/${s}/audiotracks?fields=${r.map(a.Rb).join(",")}`,c(c({},u),{},{method:"POST",body:JSON.stringify((0,a.mH)(n))}));if(!d.ok)throw new a.F7("A network error occurred",d.status,d);if(204===d.status)return null;if(!d.headers.get("content-type")?.match(/^application\/(.+)?json$/))throw Error("Expected JSON response");let p=await d.json();return(0,a.l_)(p)}var g=r(652983),f=r(296638),O=r(458388),h=r(173656);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(e,t){let r="function"==typeof e?e():e,{baseUrl:n,jwt:o,xVimeoPage:a,locale:s}=(0,O.r)();return(0,f.ZP)(r?`/videos/${r.where.videoId}/versions/${r.where.versionId}/audiotracks${(0,i.Y$)(r)}`:()=>null,r?()=>d(y(y({},r),{},{headers:y(y({},r.headers),{},{"Content-Type":"application/json",Authorization:o?`jwt ${o}`:"","Vimeo-Page":`${a}`,"Accept-Language":s??"en"}),baseUrl:n})):null,t)}"true"===h.env.STORYBOOK&&(0,i.MR)(w,{endpoint:"/videos/:videoId/versions/:versionId/audiotracks",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(function(){let{mutate:e}=(0,f.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:o}=(0,O.r)(),[a,s]=(0,i.AC)();return[(0,g.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/versions/${a.where.versionId}/audiotracks${(0,i.Y$)(a)}`,d(y(y({},a),{},{baseUrl:t,headers:y(y({},a.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":o??"en"})})));s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,o,s]),a]},{endpoint:"/videos/:videoId/versions/:versionId/audiotracks",method:"GET"}),"true"===h.env.STORYBOOK&&(0,i.MR)(function(){let{mutate:e}=(0,f.kY)(),{baseUrl:t,jwt:r,xVimeoPage:n,locale:o}=(0,O.r)(),[a,s]=(0,i.AC)();return[(0,g.useCallback)(async a=>{s({type:"REQUEST"});try{let l=await e(`/videos/${a.where.videoId}/versions/${a.where.versionId}/audiotracks${(0,i.Y$)(a)}`,p(y(y({},a),{},{baseUrl:t,headers:y(y({},a.headers),{},{"Content-Type":"application/json",Authorization:r?`jwt ${r}`:"","Vimeo-Page":`${n}`,"Accept-Language":o??"en"})})),!1);s({type:"SUCCESS",payload:l})}catch(e){s({type:"FAILURE",payload:e})}},[t,n,r,o,s]),a]},{endpoint:"/videos/:videoId/versions/:versionId/audiotracks",method:"POST"})},806273:function(e,t,r){r.d(t,{X:function(){return o}});var n=r(652983);let i=(e,t,r)=>"linear"===r?e*t:"exponential"===r?Math.pow(2,t)*e+Math.round(Math.random()*e):e,o=(e,t,r)=>{let o=r?.interval||5e3,{0:a,1:s}=(0,n.useState)(0),l=(0,n.useRef)();(0,n.useEffect)(()=>("function"==typeof t&&t(a)||!0===t?l.current=setTimeout(()=>{s(a+1),e()},i(o,a,r?.backoff)):clearTimeout(l.current),()=>clearTimeout(l.current)),[a,t]),(0,n.useEffect)(()=>{r?.shouldResetBackoff&&r.shouldResetBackoff(a)&&s(0)},[r,a])}},992872:function(e,t,r){r.d(t,{S:function(){return n}});let n=e=>{let t=document.createElement("a");t.href=e,t.click()}}}]);
//# sourceMappingURL=4401-984d2edf2eebc97d.js.map