"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44144],{944144:function(e,t,i){i.r(t),i.d(t,{BigPictureAdapter:function(){return _},EventMultiplexer:function(){return E},PendoClient:function(){return R},flattenSurveyDetails:function(){return S}});var n=i(846211),s=i(706138);let d=["adsbot-google","applebot","baiduspider","bingbot","blekkobot","Embedly","facebookexternalhit","Facebot","feedfetcher-google","feedly","FlipboardProxy","google web preview","Googlebot","GrapeshotCrawler","linkedinbot","mail.ru_bot","mediapartners-google","msnbot_mobile","msnbot","pinterest","Seznam","SkypeUriPreview","slurp","superfeedr bot","tumblr","twitterbot","yandex","prerender"],r="undefined"!=typeof navigator,a=r&&(/ipad|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1),o=r&&/iphone|ipod|android|webos|blackberry|windows phone/i.test(navigator.userAgent.toLowerCase()),l=()=>o?"mobile":a?"tablet":"desktop";function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach(function(t){(0,s.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}class p{constructor(e,t,i){(0,s.Z)(this,"eventHandlers",void 0),(0,s.Z)(this,"metadata",void 0),(0,s.Z)(this,"pendo",void 0),(0,s.Z)(this,"activeGuide",void 0),(0,s.Z)(this,"observer",void 0),(0,s.Z)(this,"isDisplaying",!1),(0,s.Z)(this,"isGuideRemoved",e=>e.some(e=>Array.from(e.removedNodes.values()).filter(e=>e instanceof HTMLElement).map(e=>e).some(e=>e?.id==="pendo-base"))),(0,s.Z)(this,"guideChangeListener",e=>{this.isGuideRemoved(e)&&!this.pendo?.getActiveGuide?.()?.guide&&this.handleDismiss()}),(0,s.Z)(this,"engagementHandler",e=>{let t=e?.target,i=t?.children?.length;if(i&&i>0&&"mouseenter"!==e.type)return;let n={target:{tag:t?.tagName,copy:"mouseenter"===e.type?this.getGuideTitle():t?.innerText,className:t?.className,id:t?.id,href:t?.href},guide:this.cloneActiveGuide(),metadata:this.metadata},s=this.getActiveStepIdFromDOM(t);switch(n.guide&&s&&(n.guide=c(c({},n.guide),{},{step:s})),e.type){case"click":this.eventHandlers?.onClick?.(n);break;case"mouseenter":this.eventHandlers?.onHover?.(n);break;case"touchend":this.eventHandlers?.onTouch?.(n)}}),this.eventHandlers=e,this.metadata=t,this.pendo=i}getEventHandlers(){let e=this.eventHandlers,t={};if(!e)return t;let{onReady:i,onGuideLoaded:n,onGuideFailed:s}=e;return i&&(t.ready=i),n&&(t.guidesLoaded=n),s&&(t.guidesFailed=s),t}triggerAdvanceAndUpdateGuide(){if(this.activeGuide)try{this.triggerGuideAdvanced()}finally{this.updateActiveGuide()}}triggerGuideDisplayed(){this.updateActiveGuide(),this.isDisplaying=!0;let e=this.cloneActiveGuide(),t=c(c({},e),{},{metadata:this.metadata});e&&this.eventHandlers?.onGuideDisplayed?.(t)}triggerDisplayEvent(){this.isDisplaying?this.triggerAdvanceAndUpdateGuide():this.triggerGuideDisplayed()}getGlobalScripts(){return()=>{this.triggerDisplayEvent(),this.addEngagementHandlers(),this.addGuideChangeObserver()}}triggerGuideAdvanced(){let e=this.pendo?.getActiveGuide?.(),t=e?.guide?.id,i=e?.guide?.activeStep?.()?.id,n=this.activeGuide?.guideId,s=this.activeGuide?.step?.id;if(!t||!i||!s||!n)return;let d=this.deriveStepNumber()||1;t===n&&i!==s&&this.eventHandlers?.onGuideAdvanced?.({metadata:this.metadata,previousStep:{id:s,stepNumber:d-1},currentGuideState:{guideId:t,guideName:e.guide?.name,step:{id:i,stepNumber:d}}})}updateActiveGuide(){let e=this.pendo,t=e?.getActiveGuide?.()?.guide;if(!(t?.name&&t?.id)){this.activeGuide=void 0;return}this.activeGuide={guideName:t.name,guideId:t.id},t.activeStep?.()?.id&&(this.activeGuide.step={id:t.activeStep().id,stepNumber:this.deriveStepNumber()})}handleDismiss(){try{let e=this.eventHandlers?.onGuideDismiss;e&&e({guide:this.cloneActiveGuide(),metadata:this.metadata})}finally{this.observer?.disconnect(),this.isDisplaying=!1}}cloneActiveGuide(){if(this.activeGuide)return{guideId:this.activeGuide.guideId,guideName:this.activeGuide.guideName,step:{id:this.activeGuide.step?.id,stepNumber:this.activeGuide.step?.stepNumber}}}addGuideChangeObserver(){this.observer?.disconnect(),this.observer=new MutationObserver(this.guideChangeListener),this.observer.observe(document.body,{childList:!0,subtree:!0,characterDataOldValue:!0})}deriveStepNumber(e){let t=this.pendo?.getActiveGuide?.()?.guide?.steps;return e||(e=this.pendo?.getActiveGuide?.()?.guide?.activeStep?.().id),t?.map((t,i)=>[t.id===e,i])?.find(e=>e.length>=2&&!0===e[0])?.[1]}getActiveStepIdFromDOM(e){let t=e.closest("._pendo-step-container-size"),i=t?.id;i=i?.replace(/^pendo-g-/,"");let n=this.deriveStepNumber(i)||this.activeGuide?.step?.stepNumber,s={id:i,stepNumber:n};if(i)return s}getGuideTitle(){let e=this.pendo.dom("._pendo-text-title");return e.length>0?e[0].innerText:""}addEngagementHandlers(){let e=this.eventHandlers?.onClick,t=this.pendo;if(!e)return;let i=t.dom("#pendo-guide-container");if(i.length>0){let e=i[0];e.addEventListener("click",this.engagementHandler),e.addEventListener("mouseenter",this.engagementHandler),e.addEventListener("touchend",this.engagementHandler)}}}var h=i(64451);let g=/vuid=(\w+\.\w+);?/,v="vimeo.pendo_guide_interaction";function m(e){let t=window,i=/\.ci\.vimeows.com$/.test(window?.location?.host)?"staging":"production";return new h.Event("vimeo.web_global",5,{user:{subscription_type:e?.account?.client_subscription_type,is_mod:!!t?.vimeo?.cur_user&&t?.vimeo?.cur_user.is_mod,session_id:null,teams:null,user_id:e?.visitor?.id,vuid:function(){let e=document.cookie.match(g);return e&&e.length>=2?e[1]:null}(),flags:null,is_free_trial:!1},application:{application:"vimeo",vimeo_language:e?.visitor?.client_device_language||"en",product:"pendo_guide",build_environment:i,version:{full:"1.0.0",major:"1",minor:"0",patch:"0"}},platform:{device_language:window?.navigator?.language??"",screen:{dpi:screen.pixelDepth,height:screen.height,width:screen.width,size:`${screen.width} x ${screen.height}`},network:null,platform:"web"}})}class f{mapClickType(e){switch(e){case"click":return"click";case"touch":return"tap";case"hover":return"hover"}return null}map(e,t){let{guide:i,target:n}=e;return new h.Event(v,1,{guide_id:i?.guideId??null,guide_name:i?.guideName??null,step_id:i?.step?.id??null,step_number:i?.step?.stepNumber??null,tag:n?.tag??null,copy:n?.copy??null,action:this.mapClickType(t),path:window.top?.location.href??null})}}class w{map({guide:e}){return new h.Event(v,1,{guide_id:e?.guideId??null,guide_name:e?.guideName??null,step_id:e?.step?.id??null,step_number:e?.step?.stepNumber??null,action:"dismiss",path:window.top?.location.href??null,tag:null,copy:null})}}class b{map(e){return new h.Event(v,1,{guide_id:e.guideId??null,guide_name:e?.guideName??null,step_id:e?.step?.id??null,step_number:e?.step?.stepNumber??null,action:"impression",path:window.top?.location.href??null,tag:null,copy:null})}}class y{map(e){let{guideId:t,guideName:i,step:n}=e.currentGuideState;return new h.Event(v,1,{guide_id:t??null,guide_name:i??null,step_id:n?.id??null,step_number:n?.stepNumber??null,action:"impression",path:window.top?.location.href??null,tag:null,copy:null})}}class _{constructor(e,t,i={clickMapper:new f,hoverMapper:new f,touchMapper:new f,dismissMapper:new w,guideDisplayMapper:new b,guideAdvanceMapper:new y}){if((0,s.Z)(this,"metadata",void 0),(0,s.Z)(this,"config",void 0),(0,s.Z)(this,"eventMappers",void 0),(0,s.Z)(this,"onGuideDismiss",e=>{this.sendEvent(this.eventMappers.dismissMapper?.map(e))}),(0,s.Z)(this,"onClick",e=>{this.sendEvent(this.eventMappers.clickMapper?.map(e,"click"))}),(0,s.Z)(this,"onHover",e=>{this.sendEvent(this.eventMappers.hoverMapper?.map(e,"hover"))}),(0,s.Z)(this,"onTouch",e=>{this.sendEvent(this.eventMappers.touchMapper?.map(e,"touch"))}),(0,s.Z)(this,"onGuideAdvanced",e=>{this.sendEvent(this.eventMappers.guideAdvanceMapper?.map(e))}),(0,s.Z)(this,"onGuideDisplayed",e=>{this.sendEvent(this.eventMappers.guideDisplayMapper?.map(e))}),this.metadata=e,this.config=t,this.eventMappers=i,!this.config){var n;this.config=((n=m(this.metadata))||(n=m()),new h.Configuration(/\.ci\.vimeows\.com$/.test(window.location.host)?h.Service.FRESNEL_DEV:h.Service.FRESNEL_PROD,n))}h.BigPictureClient.configure(this.config)}sendEvent(e){e&&h.BigPictureClient.sendEvent(e)}}let G={onGuideLoaded:()=>{let e=window;e.pendo.attachEvent(document,"click",t=>{let i=t.target,n=t.composedPath(),s=!1;for(let e=0;e<n.length;e++)n[e]?.id==="pendo-resource-center-container"&&(s=!0);!e.pendo.dom("#pendo-resource-center-container").length||s||e.pendo.dom(i).closest(e.pendo.BuildingBlocks.BuildingBlockResourceCenter.getResourceCenter().steps[0].elementPathRule).length||e.pendo.BuildingBlocks.BuildingBlockResourceCenter.dismissResourceCenter()})}};class E{constructor(e,t=!0,...i){(0,s.Z)(this,"metadata",void 0),(0,s.Z)(this,"handlers",void 0),(0,s.Z)(this,"onClick",e=>{this.handlers.forEach(t=>this.safeEmit(()=>t?.onClick?.(e)))}),(0,s.Z)(this,"onGuideDismiss",e=>{this.handlers.forEach(t=>this.safeEmit(()=>t?.onGuideDismiss?.(e)))}),(0,s.Z)(this,"onReady",()=>{this.handlers.forEach(e=>this.safeEmit(()=>e?.onReady?.()))}),(0,s.Z)(this,"onGuideLoaded",()=>{this.handlers.forEach(e=>this.safeEmit(()=>e?.onGuideLoaded?.()))}),(0,s.Z)(this,"onGuideFailed",()=>{this.handlers.forEach(e=>this.safeEmit(()=>e?.onGuideFailed?.()))}),(0,s.Z)(this,"onGuideAdvanced",e=>{this.handlers.forEach(t=>this.safeEmit(()=>t?.onGuideAdvanced?.(e)))}),(0,s.Z)(this,"onGuideDisplayed",e=>{this.handlers.forEach(t=>this.safeEmit(()=>t?.onGuideDisplayed?.(e)))}),(0,s.Z)(this,"onHover",e=>{this.handlers.forEach(t=>this.safeEmit(()=>t?.onHover?.(e)))}),(0,s.Z)(this,"onTouch",e=>{this.handlers.forEach(t=>this.safeEmit(()=>t?.onTouch?.(e)))}),this.metadata=e,this.handlers=i,t&&(this.handlers.push(new _(this.metadata)),this.handlers.push(G))}addHandler(e){this.handlers.push(e)}getHandlers(){return this.handlers}replaceHandlers(e){this.handlers=e}async safeEmit(e){try{e?.()}catch(e){}}}let O="31702560-bb8b-46cc-53ab-210a323e2e80",H={vimeo:O,videoji:"d595fa14-ec9e-481b-7537-a95b9115098a"};var Z=e=>{var t;t=H[e]||O,function(e,i,n,s,d){let r,a,o,l,u;for(a=0,(d=e[s]=e[s]||{})._q=d._q||[],o=(r=["initialize","identify","updateOptions","pageLoad","track"]).length;a<o;++a)!function(e){d[e]=d[e]||function(){d._q["initialize"===e?"unshift":"push"]([e].concat([].slice.call(arguments,0)))}}(r[a]);(l=i.createElement(n)).async=!0,l.src="https://cdn.pendo.io/agent/static/"+t+"/pendo.js",(u=i.getElementsByTagName(n)[0]).parentNode.insertBefore(l,u)}(window,document,"script","pendo")};function k(e,t){return t+"question_"+e}function S(e){return e?.welcomeSurvey?function(e){let t={};return e.forEach(e=>{e.questionId&&e.answerId&&(t[k(e.questionId,"client_welcome_survey_")]=e.answerId)}),t}(e.welcomeSurvey):e?.desktopReg?function(e){let t={};return e.questions?.forEach(e=>{if(e.id){let i=k(e.id,"client_reg_"),n=e.answers?.map(e=>e.id).join(",")||"";null!=n&&n?.trim()!==""&&(t[i]=n)}}),t}(e.desktopReg):{}}let D=e=>(null===e||Object.keys(e).forEach(t=>{let i=e[t];void 0===i?delete e[t]:"object"==typeof i&&D(i)}),e),I=()=>{let e=RegExp(`(${d.join("|").replace(".","\\.").replace("-","\\-")})`,"i");return!!window.navigator.userAgent.match(e)},N=()=>"true"!==new URLSearchParams(window.location.search).get("skip_dev_prefix")&&/([-_a-z,0-9]+\.ci\.vimeows.com|vimeo\.dev)$/.test(window.location.host),A=e=>e&&N()?`dev-${e}`:e,M=["client_survey"],j=["client_survey"];function P(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?P(Object(i),!0).forEach(function(t){(0,s.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}class R{constructor(e="vimeo"){(0,s.Z)(this,"userIdentified",!1),(0,s.Z)(this,"initInstall",e=>{if(!I()&&!window.pendo)try{Z(e)}catch{console.warn("Error Installing Pendo Snippet")}}),(0,s.Z)(this,"initialize",({visitor:e,account:t,eventHandlers:i,addDefaultValues:s})=>{if(this.isInitializedWithVisitorId=!!e.id,i||(i=new E({visitor:e,account:t})),R.eventHandlers=i,R.isInstanceOfMultiplexer(R.eventHandlers)){for(let e of R.pendingHandlers)R.eventHandlers.addHandler(e);R.pendingHandlers=[]}let{client_survey:d}=e,r={visitor:C(C(C({},(0,n.Z)(e,M)),{},{id:A(e.id),client_team_role:e.client_team_role?e.client_team_role:s?"Owner":void 0},S(d)),{},{client_device_type:l()}),account:C(C({},t),{},{id:t?.id?A(t?.id):s?A(e.id):void 0,client_team_size:t?.client_team_size?t?.client_team_size:s?0:void 0})},a=window;if(a.pendo){D(r);let n=new p(i,{visitor:e,account:t},a.pendo);a.pendo.initialize(C(C({},r),{},{events:n.getEventHandlers(),guides:{globalScripts:[{script:n.getGlobalScripts()}]}}))}}),this.initInstall(e)}get isInitializedWithVisitorId(){return this.userIdentified}set isInitializedWithVisitorId(e){this.userIdentified=e}static async whenReady(e){await new Promise((t,i)=>{R.isReady()?t(!0):R.addHandler({onGuideLoaded:()=>t(!0),onGuideFailed:()=>i(!1)},e)})}}(0,s.Z)(R,"eventHandlers",void 0),(0,s.Z)(R,"pendingHandlers",[]),(0,s.Z)(R,"handlerStore",{}),(0,s.Z)(R,"isInstanceOfMultiplexer",e=>void 0!==e&&"addHandler"in e),(0,s.Z)(R,"addHandler",(e,t)=>{if(!R.handlerStore[t]){if(R.isInstanceOfMultiplexer(R.eventHandlers))R.eventHandlers.addHandler(e);else if(R.isReady())throw Error("The registered event handler is not a multiplexer");else R.pendingHandlers.push(e);R.handlerStore[t]=e}}),(0,s.Z)(R,"removeNode",(e,t,i)=>{let n=e.indexOf(t);return n>-1&&(i.length>0?i.forEach(t=>delete e[n][t]):delete e[n]),e=e.filter(e=>e)}),(0,s.Z)(R,"removeHandler",(e,...t)=>{let i=R.handlerStore[e];return!!i&&(R.pendingHandlers=R.removeNode(R.pendingHandlers,i,t),R.isInstanceOfMultiplexer(R.eventHandlers)&&R.eventHandlers.replaceHandlers(R.removeNode(R.eventHandlers.getHandlers(),i,t)),delete R.handlerStore[e],!0)}),(0,s.Z)(R,"getUpdateMetadata",({visitor:e,account:t})=>{let i=e||{},{client_survey:s}=i,d=(0,n.Z)(i,j),r={visitor:C(C({},d),{},{id:A(d.id)},S(s)),account:C(C({},t),{},{id:A(t?.id||d?.id)})};return D(r),r}),(0,s.Z)(R,"identify",({visitor:e,account:t})=>{if(!e.id)return;let i={visitor:C(C({},e),{},{id:A(e.id)}),account:{id:A(t?.id||e.id)}},n=window;n.pendo&&n.pendo.identify(C({},i))}),(0,s.Z)(R,"isReady",()=>{let e=window;return!!e.pendo&&e.pendo.isReady?.()}),(0,s.Z)(R,"showGuideById",async e=>{let t=window;await R.whenReady(e),t.pendo.showGuideById(e)}),(0,s.Z)(R,"updateOptions",async e=>{await R.whenReady("updateOptions");let t=R.getUpdateMetadata(e),i=window.parent;i.pendo&&i.pendo.updateOptions(C({},t))}),(0,s.Z)(R,"updateOptionsAndShowGuide",async(e,t,i)=>{await R.whenReady(e),t&&Object.keys(t).length>0?(R.updateOptions(t),setTimeout(()=>{R.showGuideById(e)},i||1e3)):R.showGuideById(e)})}}]);
//# sourceMappingURL=44144-2fb6421d41da1824.js.map